var ds=Object.defineProperty;var ps=(t,e,n)=>e in t?ds(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ai=(t,e,n)=>(ps(t,typeof e!="symbol"?e+"":e,n),n);import{s as hs,n as Sr,o as gs,e as ms}from"../chunks/scheduler.BvLojk_z.js";import{S as _s,i as vs,e as si,c as oi,d as li,g as Ir,o as qn,p as Nr,j as ys,k as Es}from"../chunks/index.3yJoD6ZP.js";var Kn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ei={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,p,f){this.fn=m,this.context=p,this.once=f||!1}function a(m,p,f,g,A){if(typeof f!="function")throw new TypeError("The listener must be a function");var L=new i(f,g||m,A),X=n?n+p:p;return m._events[X]?m._events[X].fn?m._events[X]=[m._events[X],L]:m._events[X].push(L):(m._events[X]=L,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],f,g;if(this._eventsCount===0)return p;for(g in f=this._events)e.call(f,g)&&p.push(n?g.slice(1):g);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},c.prototype.listeners=function(p){var f=n?n+p:p,g=this._events[f];if(!g)return[];if(g.fn)return[g.fn];for(var A=0,L=g.length,X=new Array(L);A<L;A++)X[A]=g[A].fn;return X},c.prototype.listenerCount=function(p){var f=n?n+p:p,g=this._events[f];return g?g.fn?1:g.length:0},c.prototype.emit=function(p,f,g,A,L,X){var V=n?n+p:p;if(!this._events[V])return!1;var R=this._events[V],pe=arguments.length,ee,re;if(R.fn){switch(R.once&&this.removeListener(p,R.fn,void 0,!0),pe){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,f),!0;case 3:return R.fn.call(R.context,f,g),!0;case 4:return R.fn.call(R.context,f,g,A),!0;case 5:return R.fn.call(R.context,f,g,A,L),!0;case 6:return R.fn.call(R.context,f,g,A,L,X),!0}for(re=1,ee=new Array(pe-1);re<pe;re++)ee[re-1]=arguments[re];R.fn.apply(R.context,ee)}else{var Ie=R.length,he;for(re=0;re<Ie;re++)switch(R[re].once&&this.removeListener(p,R[re].fn,void 0,!0),pe){case 1:R[re].fn.call(R[re].context);break;case 2:R[re].fn.call(R[re].context,f);break;case 3:R[re].fn.call(R[re].context,f,g);break;case 4:R[re].fn.call(R[re].context,f,g,A);break;default:if(!ee)for(he=1,ee=new Array(pe-1);he<pe;he++)ee[he-1]=arguments[he];R[re].fn.apply(R[re].context,ee)}}return!0},c.prototype.on=function(p,f,g){return a(this,p,f,g,!1)},c.prototype.once=function(p,f,g){return a(this,p,f,g,!0)},c.prototype.removeListener=function(p,f,g,A){var L=n?n+p:p;if(!this._events[L])return this;if(!f)return u(this,L),this;var X=this._events[L];if(X.fn)X.fn===f&&(!A||X.once)&&(!g||X.context===g)&&u(this,L);else{for(var V=0,R=[],pe=X.length;V<pe;V++)(X[V].fn!==f||A&&!X[V].once||g&&X[V].context!==g)&&R.push(X[V]);R.length?this._events[L]=R.length===1?R[0]:R:u(this,L)}return this},c.prototype.removeAllListeners=function(p){var f;return p?(f=n?n+p:p,this._events[f]&&u(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c})(Ei);var Ts=Ei.exports,bs=yi(Ts),ne;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const u of i)a[u]=u;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of a)u[c]=i[c];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&a.push(u);return a},t.find=(i,a)=>{for(const u of i)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ne||(ne={}));var Rr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Rr||(Rr={}));const x=ne.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),mt=t=>{switch(typeof t){case"undefined":return x.undefined;case"string":return x.string;case"number":return isNaN(t)?x.nan:x.number;case"boolean":return x.boolean;case"function":return x.function;case"bigint":return x.bigint;case"symbol":return x.symbol;case"object":return Array.isArray(t)?x.array:t===null?x.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?x.promise:typeof Map<"u"&&t instanceof Map?x.map:typeof Set<"u"&&t instanceof Set?x.set:typeof Date<"u"&&t instanceof Date?x.date:x.object;default:return x.unknown}},O=ne.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),As=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Fe extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,m=0;for(;m<u.path.length;){const p=u.path[m];m===u.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(u))):c[p]=c[p]||{_errors:[]},c=c[p],m++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,ne.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Fe.create=t=>new Fe(t);const rn=(t,e)=>{let n;switch(t.code){case O.invalid_type:t.received===x.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ne.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${ne.joinValues(t.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ne.joinValues(t.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${ne.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ne.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case O.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case O.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=e.defaultError,ne.assertNever(t)}return{message:n}};let Ti=rn;function ws(t){Ti=t}function Xn(){return Ti}const Wn=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],u={...i,path:a};let c="";const m=r.filter(p=>!!p).slice().reverse();for(const p of m)c=p(u,{data:e,defaultError:c}).message;return{...i,path:a,message:i.message||c}},Ss=[];function P(t,e){const n=Wn({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,Xn(),rn].filter(r=>!!r)});t.common.issues.push(n)}class we{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return z;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return we.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:u}=i;if(a.status==="aborted"||u.status==="aborted")return z;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[a.value]=u.value)}return{status:e.value,value:r}}}const z=Object.freeze({status:"aborted"}),bi=t=>({status:"dirty",value:t}),Re=t=>({status:"valid",value:t}),xr=t=>t.status==="aborted",Lr=t=>t.status==="dirty",an=t=>t.status==="valid",Cn=t=>typeof Promise<"u"&&t instanceof Promise;var Z;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Z||(Z={}));class Ce{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ui=(t,e)=>{if(an(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Fe(t.common.issues);return this._error=n,this._error}}};function $(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,c)=>u.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:r??c.defaultError}:{message:n??c.defaultError},description:i}}class W{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return mt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new we,ctx:{common:e.parent.common,data:e.data,parsedType:mt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Cn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return ui(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:mt(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(Cn(i)?i:Promise.resolve(i));return ui(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const u=e(i),c=()=>a.addIssue({code:O.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(m=>m?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new ze({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return ct.create(this,this._def)}nullable(){return Mt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ye.create(this,this._def)}promise(){return qt.create(this,this._def)}or(e){return un.create([this,e],this._def)}and(e){return cn.create(this,e,this._def)}transform(e){return new ze({...$(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new gn({...$(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new wi({typeName:q.ZodBranded,type:this,...$(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new tr({...$(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return vn.create(this,e)}readonly(){return rr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Is=/^c[^\s-]{8,}$/i,Ns=/^[a-z][a-z0-9]*$/,Os=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ds=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Rs=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Or;const Ls=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Ps=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ms=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function ks(t,e){return!!((e==="v4"||!e)&&Ls.test(t)||(e==="v6"||!e)&&Ps.test(t))}class Ke extends W{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==x.string){const a=this._getOrReturnCtx(e);return P(a,{code:O.invalid_type,expected:x.string,received:a.parsedType}),z}const r=new we;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,c=e.data.length<a.value;(u||c)&&(i=this._getOrReturnCtx(e,i),u?P(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&P(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Rs.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"email",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Or||(Or=new RegExp(xs,"u")),Or.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"emoji",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Ds.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"uuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Is.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Ns.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"cuid2",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Os.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ulid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),P(i,{validation:"url",code:O.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"regex",code:O.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),P(i,{code:O.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:O.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),P(i,{code:O.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Ms(a).test(e.data)||(i=this._getOrReturnCtx(e,i),P(i,{code:O.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="ip"?ks(e.data,a.version)||(i=this._getOrReturnCtx(e,i),P(i,{validation:"ip",code:O.invalid_string,message:a.message}),r.dirty()):ne.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:O.invalid_string,...Z.errToObj(r)})}_addCheck(e){return new Ke({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Z.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Z.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Z.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Z.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Z.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Z.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Z.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Z.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...Z.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Z.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Z.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Z.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Z.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Z.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Z.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Z.errToObj(n)})}nonempty(e){return this.min(1,Z.errToObj(e))}trim(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ke({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ke.create=t=>{var e;return new Ke({checks:[],typeName:q.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$(t)})};function Us(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),u=parseInt(e.toFixed(i).replace(".",""));return a%u/Math.pow(10,i)}class yt extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==x.number){const a=this._getOrReturnCtx(e);return P(a,{code:O.invalid_type,expected:x.number,received:a.parsedType}),z}let r;const i=new we;for(const a of this._def.checks)a.kind==="int"?ne.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),P(r,{code:O.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Us(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),P(r,{code:O.not_finite,message:a.message}),i.dirty()):ne.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Z.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Z.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Z.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Z.toString(n))}setLimit(e,n,r,i){return new yt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Z.toString(i)}]})}_addCheck(e){return new yt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Z.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Z.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ne.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}yt.create=t=>new yt({checks:[],typeName:q.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...$(t)});class Et extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==x.bigint){const a=this._getOrReturnCtx(e);return P(a,{code:O.invalid_type,expected:x.bigint,received:a.parsedType}),z}let r;const i=new we;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),P(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ne.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Z.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Z.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Z.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Z.toString(n))}setLimit(e,n,r,i){return new Et({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Z.toString(i)}]})}_addCheck(e){return new Et({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Z.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Et.create=t=>{var e;return new Et({checks:[],typeName:q.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...$(t)})};class sn extends W{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==x.boolean){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.boolean,received:r.parsedType}),z}return Re(e.data)}}sn.create=t=>new sn({typeName:q.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...$(t)});class Lt extends W{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==x.date){const a=this._getOrReturnCtx(e);return P(a,{code:O.invalid_type,expected:x.date,received:a.parsedType}),z}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return P(a,{code:O.invalid_date}),z}const r=new we;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:O.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),P(i,{code:O.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ne.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Lt({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Z.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Z.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Lt.create=t=>new Lt({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:q.ZodDate,...$(t)});class Jn extends W{_parse(e){if(this._getType(e)!==x.symbol){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.symbol,received:r.parsedType}),z}return Re(e.data)}}Jn.create=t=>new Jn({typeName:q.ZodSymbol,...$(t)});class on extends W{_parse(e){if(this._getType(e)!==x.undefined){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.undefined,received:r.parsedType}),z}return Re(e.data)}}on.create=t=>new on({typeName:q.ZodUndefined,...$(t)});class ln extends W{_parse(e){if(this._getType(e)!==x.null){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.null,received:r.parsedType}),z}return Re(e.data)}}ln.create=t=>new ln({typeName:q.ZodNull,...$(t)});class jt extends W{constructor(){super(...arguments),this._any=!0}_parse(e){return Re(e.data)}}jt.create=t=>new jt({typeName:q.ZodAny,...$(t)});class Rt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Re(e.data)}}Rt.create=t=>new Rt({typeName:q.ZodUnknown,...$(t)});class dt extends W{_parse(e){const n=this._getOrReturnCtx(e);return P(n,{code:O.invalid_type,expected:x.never,received:n.parsedType}),z}}dt.create=t=>new dt({typeName:q.ZodNever,...$(t)});class Qn extends W{_parse(e){if(this._getType(e)!==x.undefined){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.void,received:r.parsedType}),z}return Re(e.data)}}Qn.create=t=>new Qn({typeName:q.ZodVoid,...$(t)});class Ye extends W{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==x.array)return P(n,{code:O.invalid_type,expected:x.array,received:n.parsedType}),z;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(P(n,{code:u?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(P(n,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(P(n,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new Ce(n,u,n.path,c)))).then(u=>we.mergeArray(r,u));const a=[...n.data].map((u,c)=>i.type._parseSync(new Ce(n,u,n.path,c)));return we.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new Ye({...this._def,minLength:{value:e,message:Z.toString(n)}})}max(e,n){return new Ye({...this._def,maxLength:{value:e,message:Z.toString(n)}})}length(e,n){return new Ye({...this._def,exactLength:{value:e,message:Z.toString(n)}})}nonempty(e){return this.min(1,e)}}Ye.create=(t,e)=>new Ye({type:t,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...$(e)});function Vt(t){if(t instanceof de){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ct.create(Vt(r))}return new de({...t._def,shape:()=>e})}else return t instanceof Ye?new Ye({...t._def,type:Vt(t.element)}):t instanceof ct?ct.create(Vt(t.unwrap())):t instanceof Mt?Mt.create(Vt(t.unwrap())):t instanceof Je?Je.create(t.items.map(e=>Vt(e))):t}class de extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ne.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==x.object){const p=this._getOrReturnCtx(e);return P(p,{code:O.invalid_type,expected:x.object,received:p.parsedType}),z}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof dt&&this._def.unknownKeys==="strip"))for(const p in i.data)u.includes(p)||c.push(p);const m=[];for(const p of u){const f=a[p],g=i.data[p];m.push({key:{status:"valid",value:p},value:f._parse(new Ce(i,g,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof dt){const p=this._def.unknownKeys;if(p==="passthrough")for(const f of c)m.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(p==="strict")c.length>0&&(P(i,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const f of c){const g=i.data[f];m.push({key:{status:"valid",value:f},value:p._parse(new Ce(i,g,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const f of m){const g=await f.key;p.push({key:g,value:await f.value,alwaysSet:f.alwaysSet})}return p}).then(p=>we.mergeObjectSync(r,p)):we.mergeObjectSync(r,m)}get shape(){return this._def.shape()}strict(e){return Z.errToObj,new de({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,u,c;const m=(u=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&u!==void 0?u:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=Z.errToObj(e).message)!==null&&c!==void 0?c:m}:{message:m}}}:{}})}strip(){return new de({...this._def,unknownKeys:"strip"})}passthrough(){return new de({...this._def,unknownKeys:"passthrough"})}extend(e){return new de({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new de({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:q.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new de({...this._def,catchall:e})}pick(e){const n={};return ne.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}omit(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new de({...this._def,shape:()=>n})}deepPartial(){return Vt(this)}partial(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new de({...this._def,shape:()=>n})}required(e){const n={};return ne.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof ct;)a=a._def.innerType;n[r]=a}}),new de({...this._def,shape:()=>n})}keyof(){return Ai(ne.objectKeys(this.shape))}}de.create=(t,e)=>new de({shape:()=>t,unknownKeys:"strip",catchall:dt.create(),typeName:q.ZodObject,...$(e)});de.strictCreate=(t,e)=>new de({shape:()=>t,unknownKeys:"strict",catchall:dt.create(),typeName:q.ZodObject,...$(e)});de.lazycreate=(t,e)=>new de({shape:t,unknownKeys:"strip",catchall:dt.create(),typeName:q.ZodObject,...$(e)});class un extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=a.map(c=>new Fe(c.ctx.common.issues));return P(n,{code:O.invalid_union,unionErrors:u}),z}if(n.common.async)return Promise.all(r.map(async a=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let a;const u=[];for(const m of r){const p={...n,common:{...n.common,issues:[]},parent:null},f=m._parseSync({data:n.data,path:n.path,parent:p});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=u.map(m=>new Fe(m));return P(n,{code:O.invalid_union,unionErrors:c}),z}}get options(){return this._def.options}}un.create=(t,e)=>new un({options:t,typeName:q.ZodUnion,...$(e)});const $n=t=>t instanceof dn?$n(t.schema):t instanceof ze?$n(t.innerType()):t instanceof pn?[t.value]:t instanceof Tt?t.options:t instanceof hn?Object.keys(t.enum):t instanceof gn?$n(t._def.innerType):t instanceof on?[void 0]:t instanceof ln?[null]:null;class or extends W{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.object)return P(n,{code:O.invalid_type,expected:x.object,received:n.parsedType}),z;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(P(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),z)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const u=$n(a.shape[e]);if(!u)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of u){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new or({typeName:q.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...$(r)})}}function Pr(t,e){const n=mt(t),r=mt(e);if(t===e)return{valid:!0,data:t};if(n===x.object&&r===x.object){const i=ne.objectKeys(e),a=ne.objectKeys(t).filter(c=>i.indexOf(c)!==-1),u={...t,...e};for(const c of a){const m=Pr(t[c],e[c]);if(!m.valid)return{valid:!1};u[c]=m.data}return{valid:!0,data:u}}else if(n===x.array&&r===x.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const u=t[a],c=e[a],m=Pr(u,c);if(!m.valid)return{valid:!1};i.push(m.data)}return{valid:!0,data:i}}else return n===x.date&&r===x.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class cn extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,u)=>{if(xr(a)||xr(u))return z;const c=Pr(a.value,u.value);return c.valid?((Lr(a)||Lr(u))&&n.dirty(),{status:n.value,value:c.data}):(P(r,{code:O.invalid_intersection_types}),z)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,u])=>i(a,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}cn.create=(t,e,n)=>new cn({left:t,right:e,typeName:q.ZodIntersection,...$(n)});class Je extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.array)return P(r,{code:O.invalid_type,expected:x.array,received:r.parsedType}),z;if(r.data.length<this._def.items.length)return P(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),z;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((u,c)=>{const m=this._def.items[c]||this._def.rest;return m?m._parse(new Ce(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(a).then(u=>we.mergeArray(n,u)):we.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new Je({...this._def,rest:e})}}Je.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Je({items:t,typeName:q.ZodTuple,rest:null,...$(e)})};class fn extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.object)return P(r,{code:O.invalid_type,expected:x.object,received:r.parsedType}),z;const i=[],a=this._def.keyType,u=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new Ce(r,c,r.path,c)),value:u._parse(new Ce(r,r.data[c],r.path,c))});return r.common.async?we.mergeObjectAsync(n,i):we.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof W?new fn({keyType:e,valueType:n,typeName:q.ZodRecord,...$(r)}):new fn({keyType:Ke.create(),valueType:e,typeName:q.ZodRecord,...$(n)})}}class er extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.map)return P(r,{code:O.invalid_type,expected:x.map,received:r.parsedType}),z;const i=this._def.keyType,a=this._def.valueType,u=[...r.data.entries()].map(([c,m],p)=>({key:i._parse(new Ce(r,c,r.path,[p,"key"])),value:a._parse(new Ce(r,m,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const m of u){const p=await m.key,f=await m.value;if(p.status==="aborted"||f.status==="aborted")return z;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const m of u){const p=m.key,f=m.value;if(p.status==="aborted"||f.status==="aborted")return z;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}}}}er.create=(t,e,n)=>new er({valueType:e,keyType:t,typeName:q.ZodMap,...$(n)});class Pt extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==x.set)return P(r,{code:O.invalid_type,expected:x.set,received:r.parsedType}),z;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(P(r,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(P(r,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function u(m){const p=new Set;for(const f of m){if(f.status==="aborted")return z;f.status==="dirty"&&n.dirty(),p.add(f.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((m,p)=>a._parse(new Ce(r,m,r.path,p)));return r.common.async?Promise.all(c).then(m=>u(m)):u(c)}min(e,n){return new Pt({...this._def,minSize:{value:e,message:Z.toString(n)}})}max(e,n){return new Pt({...this._def,maxSize:{value:e,message:Z.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Pt.create=(t,e)=>new Pt({valueType:t,minSize:null,maxSize:null,typeName:q.ZodSet,...$(e)});class Ht extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.function)return P(n,{code:O.invalid_type,expected:x.function,received:n.parsedType}),z;function r(c,m){return Wn({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xn(),rn].filter(p=>!!p),issueData:{code:O.invalid_arguments,argumentsError:m}})}function i(c,m){return Wn({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Xn(),rn].filter(p=>!!p),issueData:{code:O.invalid_return_type,returnTypeError:m}})}const a={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof qt){const c=this;return Re(async function(...m){const p=new Fe([]),f=await c._def.args.parseAsync(m,a).catch(L=>{throw p.addIssue(r(m,L)),p}),g=await Reflect.apply(u,this,f);return await c._def.returns._def.type.parseAsync(g,a).catch(L=>{throw p.addIssue(i(g,L)),p})})}else{const c=this;return Re(function(...m){const p=c._def.args.safeParse(m,a);if(!p.success)throw new Fe([r(m,p.error)]);const f=Reflect.apply(u,this,p.data),g=c._def.returns.safeParse(f,a);if(!g.success)throw new Fe([i(f,g.error)]);return g.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Ht({...this._def,args:Je.create(e).rest(Rt.create())})}returns(e){return new Ht({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new Ht({args:e||Je.create([]).rest(Rt.create()),returns:n||Rt.create(),typeName:q.ZodFunction,...$(r)})}}class dn extends W{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}dn.create=(t,e)=>new dn({getter:t,typeName:q.ZodLazy,...$(e)});class pn extends W{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return P(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),z}return{status:"valid",value:e.data}}get value(){return this._def.value}}pn.create=(t,e)=>new pn({value:t,typeName:q.ZodLiteral,...$(e)});function Ai(t,e){return new Tt({values:t,typeName:q.ZodEnum,...$(e)})}class Tt extends W{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return P(n,{expected:ne.joinValues(r),received:n.parsedType,code:O.invalid_type}),z}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return P(n,{received:n.data,code:O.invalid_enum_value,options:r}),z}return Re(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Tt.create(e)}exclude(e){return Tt.create(this.options.filter(n=>!e.includes(n)))}}Tt.create=Ai;class hn extends W{_parse(e){const n=ne.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==x.string&&r.parsedType!==x.number){const i=ne.objectValues(n);return P(r,{expected:ne.joinValues(i),received:r.parsedType,code:O.invalid_type}),z}if(n.indexOf(e.data)===-1){const i=ne.objectValues(n);return P(r,{received:r.data,code:O.invalid_enum_value,options:i}),z}return Re(e.data)}get enum(){return this._def.values}}hn.create=(t,e)=>new hn({values:t,typeName:q.ZodNativeEnum,...$(e)});class qt extends W{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==x.promise&&n.common.async===!1)return P(n,{code:O.invalid_type,expected:x.promise,received:n.parsedType}),z;const r=n.parsedType===x.promise?n.data:Promise.resolve(n.data);return Re(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qt.create=(t,e)=>new qt({type:t,typeName:q.ZodPromise,...$(e)});class ze extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:u=>{P(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const u=i.transform(r.data,a);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(u).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:u,path:r.path,parent:r})}if(i.type==="refinement"){const u=c=>{const m=i.refinement(c,a);if(r.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?z:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?z:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!an(u))return u;const c=i.transform(u.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>an(u)?Promise.resolve(i.transform(u.value,a)).then(c=>({status:n.value,value:c})):u);ne.assertNever(i)}}ze.create=(t,e,n)=>new ze({schema:t,typeName:q.ZodEffects,effect:e,...$(n)});ze.createWithPreprocess=(t,e,n)=>new ze({schema:e,effect:{type:"preprocess",transform:t},typeName:q.ZodEffects,...$(n)});class ct extends W{_parse(e){return this._getType(e)===x.undefined?Re(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ct.create=(t,e)=>new ct({innerType:t,typeName:q.ZodOptional,...$(e)});class Mt extends W{_parse(e){return this._getType(e)===x.null?Re(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Mt.create=(t,e)=>new Mt({innerType:t,typeName:q.ZodNullable,...$(e)});class gn extends W{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===x.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}gn.create=(t,e)=>new gn({innerType:t,typeName:q.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...$(e)});class tr extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Cn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Fe(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Fe(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}tr.create=(t,e)=>new tr({innerType:t,typeName:q.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...$(e)});class nr extends W{_parse(e){if(this._getType(e)!==x.nan){const r=this._getOrReturnCtx(e);return P(r,{code:O.invalid_type,expected:x.nan,received:r.parsedType}),z}return{status:"valid",value:e.data}}}nr.create=t=>new nr({typeName:q.ZodNaN,...$(t)});const Bs=Symbol("zod_brand");class wi extends W{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class vn extends W{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?z:a.status==="dirty"?(n.dirty(),bi(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?z:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new vn({in:e,out:n,typeName:q.ZodPipeline})}}class rr extends W{_parse(e){const n=this._def.innerType._parse(e);return an(n)&&(n.value=Object.freeze(n.value)),n}}rr.create=(t,e)=>new rr({innerType:t,typeName:q.ZodReadonly,...$(e)});const Gr=(t,e={},n)=>t?jt.create().superRefine((r,i)=>{var a,u;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,m=(u=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&u!==void 0?u:!0,p=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...p,fatal:m})}}):jt.create(),Gs={object:de.lazycreate};var q;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(q||(q={}));const Zs=(t,e={message:`Input not instance of ${t.name}`})=>Gr(n=>n instanceof t,e),y=Ke.create,B=yt.create,Vs=nr.create,Si=Et.create,F=sn.create,Hs=Lt.create,js=Jn.create,qs=on.create,Zr=ln.create,Ks=jt.create,mn=Rt.create,Fs=dt.create,Ys=Qn.create,J=Ye.create,D=de.create,zs=de.strictCreate,Vr=un.create,$s=or.create,Xs=cn.create,Ws=Je.create,Cs=fn.create,Js=er.create,Qs=Pt.create,eo=Ht.create,to=dn.create,ve=pn.create,no=Tt.create,Ft=hn.create,ro=qt.create,ci=ze.create,Ii=ct.create,io=Mt.create,Ni=ze.createWithPreprocess,ao=vn.create,so=()=>y().optional(),oo=()=>B().optional(),lo=()=>F().optional(),uo={string:t=>Ke.create({...t,coerce:!0}),number:t=>yt.create({...t,coerce:!0}),boolean:t=>sn.create({...t,coerce:!0}),bigint:t=>Et.create({...t,coerce:!0}),date:t=>Lt.create({...t,coerce:!0})},co=z;var k=Object.freeze({__proto__:null,defaultErrorMap:rn,setErrorMap:ws,getErrorMap:Xn,makeIssue:Wn,EMPTY_PATH:Ss,addIssueToContext:P,ParseStatus:we,INVALID:z,DIRTY:bi,OK:Re,isAborted:xr,isDirty:Lr,isValid:an,isAsync:Cn,get util(){return ne},get objectUtil(){return Rr},ZodParsedType:x,getParsedType:mt,ZodType:W,ZodString:Ke,ZodNumber:yt,ZodBigInt:Et,ZodBoolean:sn,ZodDate:Lt,ZodSymbol:Jn,ZodUndefined:on,ZodNull:ln,ZodAny:jt,ZodUnknown:Rt,ZodNever:dt,ZodVoid:Qn,ZodArray:Ye,ZodObject:de,ZodUnion:un,ZodDiscriminatedUnion:or,ZodIntersection:cn,ZodTuple:Je,ZodRecord:fn,ZodMap:er,ZodSet:Pt,ZodFunction:Ht,ZodLazy:dn,ZodLiteral:pn,ZodEnum:Tt,ZodNativeEnum:hn,ZodPromise:qt,ZodEffects:ze,ZodTransformer:ze,ZodOptional:ct,ZodNullable:Mt,ZodDefault:gn,ZodCatch:tr,ZodNaN:nr,BRAND:Bs,ZodBranded:wi,ZodPipeline:vn,ZodReadonly:rr,custom:Gr,Schema:W,ZodSchema:W,late:Gs,get ZodFirstPartyTypeKind(){return q},coerce:uo,any:Ks,array:J,bigint:Si,boolean:F,date:Hs,discriminatedUnion:$s,effect:ci,enum:no,function:eo,instanceof:Zs,intersection:Xs,lazy:to,literal:ve,map:Js,nan:Vs,nativeEnum:Ft,never:Fs,null:Zr,nullable:io,number:B,object:D,oboolean:lo,onumber:oo,optional:Ii,ostring:so,pipeline:ao,preprocess:Ni,promise:ro,record:Cs,set:Qs,strictObject:zs,string:y,symbol:js,transformer:ci,tuple:Ws,undefined:qs,union:Vr,unknown:mn,void:Ys,NEVER:co,ZodIssueCode:O,quotelessJson:As,ZodError:Fe}),Oi={exports:{}};(function(t){var e=function(n){var r=1e7,i=7,a=9007199254740992,u=X(a),c="0123456789abcdefghijklmnopqrstuvwxyz",m=typeof BigInt=="function";function p(s,l,h,v){return typeof s>"u"?p[0]:typeof l<"u"?+l==10&&!h?j(s):Dn(s,l,h,v):j(s)}function f(s,l){this.value=s,this.sign=l,this.isSmall=!1}f.prototype=Object.create(p.prototype);function g(s){this.value=s,this.sign=s<0,this.isSmall=!0}g.prototype=Object.create(p.prototype);function A(s){this.value=s}A.prototype=Object.create(p.prototype);function L(s){return-a<s&&s<a}function X(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function V(s){R(s);var l=s.length;if(l<4&&tt(s,u)<0)switch(l){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*r;default:return s[0]+(s[1]+s[2]*r)*r}return s}function R(s){for(var l=s.length;s[--l]===0;);s.length=l+1}function pe(s){for(var l=new Array(s),h=-1;++h<s;)l[h]=0;return l}function ee(s){return s>0?Math.floor(s):Math.ceil(s)}function re(s,l){var h=s.length,v=l.length,T=new Array(h),E=0,w=r,S,I;for(I=0;I<v;I++)S=s[I]+l[I]+E,E=S>=w?1:0,T[I]=S-E*w;for(;I<h;)S=s[I]+E,E=S===w?1:0,T[I++]=S-E*w;return E>0&&T.push(E),T}function Ie(s,l){return s.length>=l.length?re(s,l):re(l,s)}function he(s,l){var h=s.length,v=new Array(h),T=r,E,w;for(w=0;w<h;w++)E=s[w]-T+l,l=Math.floor(E/T),v[w]=E-l*T,l+=1;for(;l>0;)v[w++]=l%T,l=Math.floor(l/T);return v}f.prototype.add=function(s){var l=j(s);if(this.sign!==l.sign)return this.subtract(l.negate());var h=this.value,v=l.value;return l.isSmall?new f(he(h,Math.abs(v)),this.sign):new f(Ie(h,v),this.sign)},f.prototype.plus=f.prototype.add,g.prototype.add=function(s){var l=j(s),h=this.value;if(h<0!==l.sign)return this.subtract(l.negate());var v=l.value;if(l.isSmall){if(L(h+v))return new g(h+v);v=X(Math.abs(v))}return new f(he(v,Math.abs(h)),h<0)},g.prototype.plus=g.prototype.add,A.prototype.add=function(s){return new A(this.value+j(s).value)},A.prototype.plus=A.prototype.add;function ke(s,l){var h=s.length,v=l.length,T=new Array(h),E=0,w=r,S,I;for(S=0;S<v;S++)I=s[S]-E-l[S],I<0?(I+=w,E=1):E=0,T[S]=I;for(S=v;S<h;S++){if(I=s[S]-E,I<0)I+=w;else{T[S++]=I;break}T[S]=I}for(;S<h;S++)T[S]=s[S];return R(T),T}function be(s,l,h){var v;return tt(s,l)>=0?v=ke(s,l):(v=ke(l,s),h=!h),v=V(v),typeof v=="number"?(h&&(v=-v),new g(v)):new f(v,h)}function Pe(s,l,h){var v=s.length,T=new Array(v),E=-l,w=r,S,I;for(S=0;S<v;S++)I=s[S]+E,E=Math.floor(I/w),I%=w,T[S]=I<0?I+w:I;return T=V(T),typeof T=="number"?(h&&(T=-T),new g(T)):new f(T,h)}f.prototype.subtract=function(s){var l=j(s);if(this.sign!==l.sign)return this.add(l.negate());var h=this.value,v=l.value;return l.isSmall?Pe(h,Math.abs(v),this.sign):be(h,v,this.sign)},f.prototype.minus=f.prototype.subtract,g.prototype.subtract=function(s){var l=j(s),h=this.value;if(h<0!==l.sign)return this.add(l.negate());var v=l.value;return l.isSmall?new g(h-v):Pe(v,Math.abs(h),h>=0)},g.prototype.minus=g.prototype.subtract,A.prototype.subtract=function(s){return new A(this.value-j(s).value)},A.prototype.minus=A.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},g.prototype.negate=function(){var s=this.sign,l=new g(-this.value);return l.sign=!s,l},A.prototype.negate=function(){return new A(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},g.prototype.abs=function(){return new g(Math.abs(this.value))},A.prototype.abs=function(){return new A(this.value>=0?this.value:-this.value)};function He(s,l){var h=s.length,v=l.length,T=h+v,E=pe(T),w=r,S,I,H,C,K;for(H=0;H<h;++H){C=s[H];for(var Q=0;Q<v;++Q)K=l[Q],S=C*K+E[H+Q],I=Math.floor(S/w),E[H+Q]=S-I*w,E[H+Q+1]+=I}return R(E),E}function Ue(s,l){var h=s.length,v=new Array(h),T=r,E=0,w,S;for(S=0;S<h;S++)w=s[S]*l+E,E=Math.floor(w/T),v[S]=w-E*T;for(;E>0;)v[S++]=E%T,E=Math.floor(E/T);return v}function Ne(s,l){for(var h=[];l-- >0;)h.push(0);return h.concat(s)}function oe(s,l){var h=Math.max(s.length,l.length);if(h<=30)return He(s,l);h=Math.ceil(h/2);var v=s.slice(h),T=s.slice(0,h),E=l.slice(h),w=l.slice(0,h),S=oe(T,w),I=oe(v,E),H=oe(Ie(T,v),Ie(w,E)),C=Ie(Ie(S,Ne(ke(ke(H,S),I),h)),Ne(I,2*h));return R(C),C}function cr(s,l){return-.012*s-.012*l+15e-6*s*l>0}f.prototype.multiply=function(s){var l=j(s),h=this.value,v=l.value,T=this.sign!==l.sign,E;if(l.isSmall){if(v===0)return p[0];if(v===1)return this;if(v===-1)return this.negate();if(E=Math.abs(v),E<r)return new f(Ue(h,E),T);v=X(E)}return cr(h.length,v.length)?new f(oe(h,v),T):new f(He(h,v),T)},f.prototype.times=f.prototype.multiply;function En(s,l,h){return s<r?new f(Ue(l,s),h):new f(He(l,X(s)),h)}g.prototype._multiplyBySmall=function(s){return L(s.value*this.value)?new g(s.value*this.value):En(Math.abs(s.value),X(Math.abs(this.value)),this.sign!==s.sign)},f.prototype._multiplyBySmall=function(s){return s.value===0?p[0]:s.value===1?this:s.value===-1?this.negate():En(Math.abs(s.value),this.value,this.sign!==s.sign)},g.prototype.multiply=function(s){return j(s)._multiplyBySmall(this)},g.prototype.times=g.prototype.multiply,A.prototype.multiply=function(s){return new A(this.value*j(s).value)},A.prototype.times=A.prototype.multiply;function Tn(s){var l=s.length,h=pe(l+l),v=r,T,E,w,S,I;for(w=0;w<l;w++){S=s[w],E=0-S*S;for(var H=w;H<l;H++)I=s[H],T=2*(S*I)+h[w+H]+E,E=Math.floor(T/v),h[w+H]=T-E*v;h[w+l]=E}return R(h),h}f.prototype.square=function(){return new f(Tn(this.value),!1)},g.prototype.square=function(){var s=this.value*this.value;return L(s)?new g(s):new f(Tn(X(Math.abs(this.value))),!1)},A.prototype.square=function(s){return new A(this.value*this.value)};function fr(s,l){var h=s.length,v=l.length,T=r,E=pe(l.length),w=l[v-1],S=Math.ceil(T/(2*w)),I=Ue(s,S),H=Ue(l,S),C,K,Q,Oe,Ae,Jt,Qt;for(I.length<=h&&I.push(0),H.push(0),w=H[v-1],K=h-v;K>=0;K--){for(C=T-1,I[K+v]!==w&&(C=Math.floor((I[K+v]*T+I[K+v-1])/w)),Q=0,Oe=0,Jt=H.length,Ae=0;Ae<Jt;Ae++)Q+=C*H[Ae],Qt=Math.floor(Q/T),Oe+=I[K+Ae]-(Q-Qt*T),Q=Qt,Oe<0?(I[K+Ae]=Oe+T,Oe=-1):(I[K+Ae]=Oe,Oe=0);for(;Oe!==0;){for(C-=1,Q=0,Ae=0;Ae<Jt;Ae++)Q+=I[K+Ae]-T+H[Ae],Q<0?(I[K+Ae]=Q+T,Q=0):(I[K+Ae]=Q,Q=1);Oe+=Q}E[K]=C}return I=bn(I,S)[0],[V(E),V(I)]}function dr(s,l){for(var h=s.length,v=l.length,T=[],E=[],w=r,S,I,H,C,K;h;){if(E.unshift(s[--h]),R(E),tt(E,l)<0){T.push(0);continue}I=E.length,H=E[I-1]*w+E[I-2],C=l[v-1]*w+l[v-2],I>v&&(H=(H+1)*w),S=Math.ceil(H/C);do{if(K=Ue(l,S),tt(K,E)<=0)break;S--}while(S);T.push(S),E=ke(E,K)}return T.reverse(),[V(T),V(E)]}function bn(s,l){var h=s.length,v=pe(h),T=r,E,w,S,I;for(S=0,E=h-1;E>=0;--E)I=S*T+s[E],w=ee(I/l),S=I-w*l,v[E]=w|0;return[v,S|0]}function et(s,l){var h,v=j(l);if(m)return[new A(s.value/v.value),new A(s.value%v.value)];var T=s.value,E=v.value,w;if(E===0)throw new Error("Cannot divide by zero");if(s.isSmall)return v.isSmall?[new g(ee(T/E)),new g(T%E)]:[p[0],s];if(v.isSmall){if(E===1)return[s,p[0]];if(E==-1)return[s.negate(),p[0]];var S=Math.abs(E);if(S<r){h=bn(T,S),w=V(h[0]);var I=h[1];return s.sign&&(I=-I),typeof w=="number"?(s.sign!==v.sign&&(w=-w),[new g(w),new g(I)]):[new f(w,s.sign!==v.sign),new g(I)]}E=X(S)}var H=tt(T,E);if(H===-1)return[p[0],s];if(H===0)return[p[s.sign===v.sign?1:-1],p[0]];T.length+E.length<=200?h=fr(T,E):h=dr(T,E),w=h[0];var C=s.sign!==v.sign,K=h[1],Q=s.sign;return typeof w=="number"?(C&&(w=-w),w=new g(w)):w=new f(w,C),typeof K=="number"?(Q&&(K=-K),K=new g(K)):K=new f(K,Q),[w,K]}f.prototype.divmod=function(s){var l=et(this,s);return{quotient:l[0],remainder:l[1]}},A.prototype.divmod=g.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(s){return et(this,s)[0]},A.prototype.over=A.prototype.divide=function(s){return new A(this.value/j(s).value)},g.prototype.over=g.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(s){return et(this,s)[1]},A.prototype.mod=A.prototype.remainder=function(s){return new A(this.value%j(s).value)},g.prototype.remainder=g.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(s){var l=j(s),h=this.value,v=l.value,T,E,w;if(v===0)return p[1];if(h===0)return p[0];if(h===1)return p[1];if(h===-1)return l.isEven()?p[1]:p[-1];if(l.sign)return p[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&L(T=Math.pow(h,v)))return new g(ee(T));for(E=this,w=p[1];v&!0&&(w=w.times(E),--v),v!==0;)v/=2,E=E.square();return w},g.prototype.pow=f.prototype.pow,A.prototype.pow=function(s){var l=j(s),h=this.value,v=l.value,T=BigInt(0),E=BigInt(1),w=BigInt(2);if(v===T)return p[1];if(h===T)return p[0];if(h===E)return p[1];if(h===BigInt(-1))return l.isEven()?p[1]:p[-1];if(l.isNegative())return new A(T);for(var S=this,I=p[1];(v&E)===E&&(I=I.times(S),--v),v!==T;)v/=w,S=S.square();return I},f.prototype.modPow=function(s,l){if(s=j(s),l=j(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var h=p[1],v=this.mod(l);for(s.isNegative()&&(s=s.multiply(p[-1]),v=v.modInv(l));s.isPositive();){if(v.isZero())return p[0];s.isOdd()&&(h=h.multiply(v).mod(l)),s=s.divide(2),v=v.square().mod(l)}return h},A.prototype.modPow=g.prototype.modPow=f.prototype.modPow;function tt(s,l){if(s.length!==l.length)return s.length>l.length?1:-1;for(var h=s.length-1;h>=0;h--)if(s[h]!==l[h])return s[h]>l[h]?1:-1;return 0}f.prototype.compareAbs=function(s){var l=j(s),h=this.value,v=l.value;return l.isSmall?1:tt(h,v)},g.prototype.compareAbs=function(s){var l=j(s),h=Math.abs(this.value),v=l.value;return l.isSmall?(v=Math.abs(v),h===v?0:h>v?1:-1):-1},A.prototype.compareAbs=function(s){var l=this.value,h=j(s).value;return l=l>=0?l:-l,h=h>=0?h:-h,l===h?0:l>h?1:-1},f.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=j(s),h=this.value,v=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:tt(h,v)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,g.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=j(s),h=this.value,v=l.value;return l.isSmall?h==v?0:h>v?1:-1:h<0!==l.sign?h<0?-1:1:h<0?1:-1},g.prototype.compareTo=g.prototype.compare,A.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=this.value,h=j(s).value;return l===h?0:l>h?1:-1},A.prototype.compareTo=A.prototype.compare,f.prototype.equals=function(s){return this.compare(s)===0},A.prototype.eq=A.prototype.equals=g.prototype.eq=g.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(s){return this.compare(s)!==0},A.prototype.neq=A.prototype.notEquals=g.prototype.neq=g.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(s){return this.compare(s)>0},A.prototype.gt=A.prototype.greater=g.prototype.gt=g.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(s){return this.compare(s)<0},A.prototype.lt=A.prototype.lesser=g.prototype.lt=g.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},A.prototype.geq=A.prototype.greaterOrEquals=g.prototype.geq=g.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},A.prototype.leq=A.prototype.lesserOrEquals=g.prototype.leq=g.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},g.prototype.isEven=function(){return(this.value&1)===0},A.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},g.prototype.isOdd=function(){return(this.value&1)===1},A.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},g.prototype.isPositive=function(){return this.value>0},A.prototype.isPositive=g.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},g.prototype.isNegative=function(){return this.value<0},A.prototype.isNegative=g.prototype.isNegative,f.prototype.isUnit=function(){return!1},g.prototype.isUnit=function(){return Math.abs(this.value)===1},A.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},g.prototype.isZero=function(){return this.value===0},A.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(s){var l=j(s);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},A.prototype.isDivisibleBy=g.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function An(s){var l=s.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function Xt(s,l){for(var h=s.prev(),v=h,T=0,E,w,S;v.isEven();)v=v.divide(2),T++;e:for(w=0;w<l.length;w++)if(!s.lesser(l[w])&&(S=e(l[w]).modPow(v,s),!(S.isUnit()||S.equals(h)))){for(E=T-1;E!=0;E--){if(S=S.square().mod(s),S.isUnit())return!1;if(S.equals(h))continue e}return!1}return!0}f.prototype.isPrime=function(s){var l=An(this);if(l!==n)return l;var h=this.abs(),v=h.bitLength();if(v<=64)return Xt(h,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*v.toJSNumber(),E=Math.ceil(s===!0?2*Math.pow(T,2):T),w=[],S=0;S<E;S++)w.push(e(S+2));return Xt(h,w)},A.prototype.isPrime=g.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(s,l){var h=An(this);if(h!==n)return h;for(var v=this.abs(),T=s===n?5:s,E=[],w=0;w<T;w++)E.push(e.randBetween(2,v.minus(2),l));return Xt(v,E)},A.prototype.isProbablePrime=g.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(s){for(var l=e.zero,h=e.one,v=j(s),T=this.abs(),E,w,S;!T.isZero();)E=v.divide(T),w=l,S=v,l=h,v=T,h=w.subtract(E.multiply(h)),T=S.subtract(E.multiply(T));if(!v.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(s)),this.isNegative()?l.negate():l},A.prototype.modInv=g.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var s=this.value;return this.sign?Pe(s,1,this.sign):new f(he(s,1),this.sign)},g.prototype.next=function(){var s=this.value;return s+1<a?new g(s+1):new f(u,!1)},A.prototype.next=function(){return new A(this.value+BigInt(1))},f.prototype.prev=function(){var s=this.value;return this.sign?new f(he(s,1),!0):Pe(s,1,this.sign)},g.prototype.prev=function(){var s=this.value;return s-1>-a?new g(s-1):new f(u,!0)},A.prototype.prev=function(){return new A(this.value-BigInt(1))};for(var je=[1];2*je[je.length-1]<=r;)je.push(2*je[je.length-1]);var wt=je.length,nt=je[wt-1];function wn(s){return Math.abs(s)<=r}f.prototype.shiftLeft=function(s){var l=j(s).toJSNumber();if(!wn(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var h=this;if(h.isZero())return h;for(;l>=wt;)h=h.multiply(nt),l-=wt-1;return h.multiply(je[l])},A.prototype.shiftLeft=g.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(s){var l,h=j(s).toJSNumber();if(!wn(h))throw new Error(String(h)+" is too large for shifting.");if(h<0)return this.shiftLeft(-h);for(var v=this;h>=wt;){if(v.isZero()||v.isNegative()&&v.isUnit())return v;l=et(v,nt),v=l[1].isNegative()?l[0].prev():l[0],h-=wt-1}return l=et(v,je[h]),l[1].isNegative()?l[0].prev():l[0]},A.prototype.shiftRight=g.prototype.shiftRight=f.prototype.shiftRight;function Wt(s,l,h){l=j(l);for(var v=s.isNegative(),T=l.isNegative(),E=v?s.not():s,w=T?l.not():l,S=0,I=0,H=null,C=null,K=[];!E.isZero()||!w.isZero();)H=et(E,nt),S=H[1].toJSNumber(),v&&(S=nt-1-S),C=et(w,nt),I=C[1].toJSNumber(),T&&(I=nt-1-I),E=H[0],w=C[0],K.push(h(S,I));for(var Q=h(v?1:0,T?1:0)!==0?e(-1):e(0),Oe=K.length-1;Oe>=0;Oe-=1)Q=Q.multiply(nt).add(e(K[Oe]));return Q}f.prototype.not=function(){return this.negate().prev()},A.prototype.not=g.prototype.not=f.prototype.not,f.prototype.and=function(s){return Wt(this,s,function(l,h){return l&h})},A.prototype.and=g.prototype.and=f.prototype.and,f.prototype.or=function(s){return Wt(this,s,function(l,h){return l|h})},A.prototype.or=g.prototype.or=f.prototype.or,f.prototype.xor=function(s){return Wt(this,s,function(l,h){return l^h})},A.prototype.xor=g.prototype.xor=f.prototype.xor;var ie=1<<30,Sn=(r&-r)*(r&-r)|ie;function Ut(s){var l=s.value,h=typeof l=="number"?l|ie:typeof l=="bigint"?l|BigInt(ie):l[0]+l[1]*r|Sn;return h&-h}function qe(s,l){if(l.compareTo(s)<=0){var h=qe(s,l.square(l)),v=h.p,T=h.e,E=v.multiply(l);return E.compareTo(s)<=0?{p:E,e:T*2+1}:{p:v,e:T*2}}return{p:e(1),e:0}}f.prototype.bitLength=function(){var s=this;return s.compareTo(e(0))<0&&(s=s.negate().subtract(e(1))),s.compareTo(e(0))===0?e(0):e(qe(s,e(2)).e).add(e(1))},A.prototype.bitLength=g.prototype.bitLength=f.prototype.bitLength;function Ct(s,l){return s=j(s),l=j(l),s.greater(l)?s:l}function Bt(s,l){return s=j(s),l=j(l),s.lesser(l)?s:l}function In(s,l){if(s=j(s).abs(),l=j(l).abs(),s.equals(l))return s;if(s.isZero())return l;if(l.isZero())return s;for(var h=p[1],v,T;s.isEven()&&l.isEven();)v=Bt(Ut(s),Ut(l)),s=s.divide(v),l=l.divide(v),h=h.multiply(v);for(;s.isEven();)s=s.divide(Ut(s));do{for(;l.isEven();)l=l.divide(Ut(l));s.greater(l)&&(T=l,l=s,s=T),l=l.subtract(s)}while(!l.isZero());return h.isUnit()?s:s.multiply(h)}function Nn(s,l){return s=j(s).abs(),l=j(l).abs(),s.divide(In(s,l)).multiply(l)}function On(s,l,h){s=j(s),l=j(l);var v=h||Math.random,T=Bt(s,l),E=Ct(s,l),w=E.subtract(T).add(1);if(w.isSmall)return T.add(Math.floor(v()*w));for(var S=St(w,r).value,I=[],H=!0,C=0;C<S.length;C++){var K=H?S[C]:r,Q=ee(v()*K);I.push(Q),Q<K&&(H=!1)}return T.add(p.fromArray(I,r,!1))}var Dn=function(s,l,h,v){h=h||c,s=String(s),v||(s=s.toLowerCase(),h=h.toLowerCase());var T=s.length,E,w=Math.abs(l),S={};for(E=0;E<h.length;E++)S[h[E]]=E;for(E=0;E<T;E++){var I=s[E];if(I!=="-"&&I in S&&S[I]>=w){if(I==="1"&&w===1)continue;throw new Error(I+" is not a valid digit in base "+l+".")}}l=j(l);var H=[],C=s[0]==="-";for(E=C?1:0;E<s.length;E++){var I=s[E];if(I in S)H.push(j(S[I]));else if(I==="<"){var K=E;do E++;while(s[E]!==">"&&E<s.length);H.push(j(s.slice(K+1,E)))}else throw new Error(I+" is not a valid character")}return Rn(H,l,C)};function Rn(s,l,h){var v=p[0],T=p[1],E;for(E=s.length-1;E>=0;E--)v=v.add(s[E].times(T)),T=T.times(l);return h?v.negate():v}function pr(s,l){return l=l||c,s<l.length?l[s]:"<"+s+">"}function St(s,l){if(l=e(l),l.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var h=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return h.unshift([1]),{value:[].concat.apply([],h),isNegative:!1}}var v=!1;if(s.isNegative()&&l.isPositive()&&(v=!0,s=s.abs()),l.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:v};for(var T=[],E=s,w;E.isNegative()||E.compareAbs(l)>=0;){w=E.divmod(l),E=w.quotient;var S=w.remainder;S.isNegative()&&(S=l.minus(S).abs(),E=E.next()),T.push(S.toJSNumber())}return T.push(E.toJSNumber()),{value:T.reverse(),isNegative:v}}function xn(s,l,h){var v=St(s,l);return(v.isNegative?"-":"")+v.value.map(function(T){return pr(T,h)}).join("")}f.prototype.toArray=function(s){return St(this,s)},g.prototype.toArray=function(s){return St(this,s)},A.prototype.toArray=function(s){return St(this,s)},f.prototype.toString=function(s,l){if(s===n&&(s=10),s!==10)return xn(this,s,l);for(var h=this.value,v=h.length,T=String(h[--v]),E="0000000",w;--v>=0;)w=String(h[v]),T+=E.slice(w.length)+w;var S=this.sign?"-":"";return S+T},g.prototype.toString=function(s,l){return s===n&&(s=10),s!=10?xn(this,s,l):String(this.value)},A.prototype.toString=g.prototype.toString,A.prototype.toJSON=f.prototype.toJSON=g.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,g.prototype.valueOf=function(){return this.value},g.prototype.toJSNumber=g.prototype.valueOf,A.prototype.valueOf=A.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Ln(s){if(L(+s)){var l=+s;if(l===ee(l))return m?new A(BigInt(l)):new g(l);throw new Error("Invalid integer: "+s)}var h=s[0]==="-";h&&(s=s.slice(1));var v=s.split(/e/i);if(v.length>2)throw new Error("Invalid integer: "+v.join("e"));if(v.length===2){var T=v[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==ee(T)||!L(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var E=v[0],w=E.indexOf(".");if(w>=0&&(T-=E.length-w-1,E=E.slice(0,w)+E.slice(w+1)),T<0)throw new Error("Cannot include negative exponent part for integers");E+=new Array(T+1).join("0"),s=E}var S=/^([0-9][0-9]*)$/.test(s);if(!S)throw new Error("Invalid integer: "+s);if(m)return new A(BigInt(h?"-"+s:s));for(var I=[],H=s.length,C=i,K=H-C;H>0;)I.push(+s.slice(K,H)),K-=C,K<0&&(K=0),H-=C;return R(I),new f(I,h)}function hr(s){if(m)return new A(BigInt(s));if(L(s)){if(s!==ee(s))throw new Error(s+" is not an integer.");return new g(s)}return Ln(s.toString())}function j(s){return typeof s=="number"?hr(s):typeof s=="string"?Ln(s):typeof s=="bigint"?new A(s):s}for(var rt=0;rt<1e3;rt++)p[rt]=j(rt),rt>0&&(p[-rt]=j(-rt));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=Ct,p.min=Bt,p.gcd=In,p.lcm=Nn,p.isInstance=function(s){return s instanceof f||s instanceof g||s instanceof A},p.randBetween=On,p.fromArray=function(s,l,h){return Rn(s.map(j),j(l||10),h)},p}();t.hasOwnProperty("exports")&&(t.exports=e)})(Oi);var fo=Oi.exports,po=yi(fo);const Di=64,Mr=16,_t=Di/Mr;function ho(){try{return!0}catch{return!1}}function go(t,e,n){let r=0;for(let i=0;i<n;i++){const a=t[e+i];if(a===void 0)break;r+=a*16**i}return r}function Ri(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function mo(t){const e=Ri(t),n=Array(_t);for(let r=0;r<_t;r++)n[_t-1-r]=go(e,r*_t,_t);return n}class $e{static fromString(e){return new $e(mo(e),e)}static fromBit(e){const n=Array(_t),r=Math.floor(e/Mr);for(let i=0;i<_t;i++)n[_t-1-i]=i===r?1<<e-r*Mr:0;return new $e(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new $e(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new $e(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new $e(this.parts.map((n,r)=>n^e[r]))}not(){return new $e(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(Di/4);return this.parts.forEach((n,r)=>{const i=Ri(n.toString());for(let a=0;a<4;a++)e[a+r*4]=i[3-a]||0}),this.str=po.fromArray(e,16).toString()}toJSON(){return this.toString()}}const At=ho();At&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Fn={},xi=At?function(e){return BigInt(e)}:function(e){return e instanceof $e?e:(typeof e=="number"&&(e=e.toString()),Fn[e]!=null||(Fn[e]=$e.fromString(e)),Fn[e])},Te=xi(0),lr=At?function(e=Te,n=Te){return e&n}:function(e=Te,n=Te){return e.and(n)},Li=At?function(e=Te,n=Te){return e|n}:function(e=Te,n=Te){return e.or(n)},_o=At?function(e=Te,n=Te){return e^n}:function(e=Te,n=Te){return e.xor(n)},vo=At?function(e=Te){return~e}:function(e=Te){return e.not()},Hr=At?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function yo(...t){let e=t[0];for(let n=1;n<t.length;n++)e=Li(e,t[n]);return e}function Eo(t,e){return Hr(lr(t,e),e)}function To(t,e){return!Hr(lr(t,e),Te)}function bo(t,e){return e===Te?t:Li(t,e)}function Ao(t,e){return e===Te?t:_o(t,lr(t,e))}const wo=At?function(e){return BigInt(1)<<BigInt(e)}:function(e){return $e.fromBit(e)};var fi={combine:yo,add:bo,remove:Ao,filter:lr,invert:vo,has:Eo,hasAny:To,equals:Hr,deserialize:xi,getFlag:wo},di;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(di||(di={}));var kr;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(kr||(kr={}));var Ur;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(Ur||(Ur={}));var vt;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(vt||(vt={}));Object.freeze({CREATE_INSTANT_INVITE:fi.getFlag(0),ADMINISTRATOR:fi.getFlag(3)});function Se(t){return Ni(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},y().or(B()))}function So(t){const e=Gr().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const Io=k.object({image_url:k.string()}),No=k.object({mediaUrl:k.string().max(1024)}),Oo=k.object({access_token:k.union([k.string(),k.null()]).optional()}),Pi=k.object({access_token:k.string(),user:k.object({username:k.string(),discriminator:k.string(),id:k.string(),avatar:k.union([k.string(),k.null()]).optional(),public_flags:k.number(),global_name:k.union([k.string(),k.null()]).optional()}),scopes:k.array(So(k.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(k.literal(-1)).default(-1))),expires:k.string(),application:k.object({description:k.string(),icon:k.union([k.string(),k.null()]).optional(),id:k.string(),rpc_origins:k.array(k.string()).optional(),name:k.string()})}),Mi=k.object({participants:k.array(k.object({id:k.string(),username:k.string(),global_name:k.union([k.string(),k.null()]).optional(),discriminator:k.string(),avatar:k.union([k.string(),k.null()]).optional(),flags:k.number(),bot:k.boolean(),avatar_decoration_data:k.union([k.object({asset:k.string(),skuId:k.string().optional()}),k.null()]).optional(),premium_type:k.union([k.number(),k.null()]).optional(),nickname:k.string().optional()}))});var Xe;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(Xe||(Xe={}));const Do=k.object({}).optional().nullable(),pi=k.void(),ki={[Xe.INITIATE_IMAGE_UPLOAD]:{request:pi,response:Io},[Xe.OPEN_SHARE_MOMENT_DIALOG]:{request:No,response:Do},[Xe.AUTHENTICATE]:{request:Oo,response:Pi},[Xe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:pi,response:Mi}},Ro="DISPATCH";var G;(function(t){t.AUTHORIZE="AUTHORIZE",t.AUTHENTICATE="AUTHENTICATE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(G||(G={}));const Yt=D({cmd:y(),data:mn(),evt:Zr(),nonce:y()}).passthrough(),xo=Object.assign(Object.assign({},Pi.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});Se(xo);const bt=D({id:y(),username:y(),discriminator:y(),global_name:y().optional().nullable(),avatar:y().optional().nullable(),avatar_decoration_data:D({asset:y(),sku_id:y().optional()}).nullable(),bot:F(),flags:B().optional().nullable(),premium_type:B().optional().nullable()}),jr=D({user:bt,nick:y().optional().nullable(),roles:J(y()),joined_at:y(),deaf:F(),mute:F()}),qr=D({id:y(),name:y().optional().nullable(),roles:J(y()).optional().nullable(),user:bt.optional().nullable(),require_colons:F().optional().nullable(),managed:F().optional().nullable(),animated:F().optional().nullable(),available:F().optional().nullable()}),Ui=D({mute:F(),deaf:F(),self_mute:F(),self_deaf:F(),suppress:F()}),Bi=D({mute:F(),nick:y(),user:bt,voice_state:Ui,volume:B()}),Lo={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},Yn=Se(Lo),nn=D({name:y(),type:B(),url:y().optional().nullable(),created_at:B().optional().nullable(),timestamps:D({start:B(),end:B()}).partial().optional().nullable(),application_id:y().optional().nullable(),details:y().optional().nullable(),state:y().optional().nullable(),emoji:qr.optional().nullable(),party:D({id:y().optional().nullable(),size:J(B()).optional().nullable()}).optional().nullable(),assets:D({large_image:y().nullable(),large_text:y().nullable(),small_image:y().nullable(),small_text:y().nullable()}).partial().optional().nullable(),secrets:D({join:y(),match:y()}).partial().optional().nullable(),instance:F().optional().nullable(),flags:B().optional().nullable()}),Po={UNHANDLED:-1,ROLE:0,MEMBER:1},Mo=D({id:y(),type:Se(Po),allow:y(),deny:y()}),Gi={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Zi=D({id:y(),type:Se(Gi),guild_id:y().optional().nullable(),position:B().optional().nullable(),permission_overwrites:J(Mo).optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),nsfw:F().optional().nullable(),last_message_id:y().optional().nullable(),bitrate:B().optional().nullable(),user_limit:B().optional().nullable(),rate_limit_per_user:B().optional().nullable(),recipients:J(bt).optional().nullable(),icon:y().optional().nullable(),owner_id:y().optional().nullable(),application_id:y().optional().nullable(),parent_id:y().optional().nullable(),last_pin_timestamp:y().optional().nullable()}),ko=D({user:bt,guild_id:y(),status:Yn,activities:J(nn),client_status:D({desktop:Yn,mobile:Yn,web:Yn}).partial()}),Uo=D({id:y(),name:y(),color:B(),hoist:F(),position:B(),permissions:y(),managed:F(),mentionable:F()});D({id:y(),name:y(),owner_id:y(),icon:y().nullable(),icon_hash:y().optional().nullable(),splash:y().nullable(),discovery_splash:y().nullable(),owner:F().optional().nullable(),permissions:y().optional().nullable(),region:y(),afk_channel_id:y().nullable(),afk_timeout:B(),widget_enabled:F().optional().nullable(),widget_channel_id:y().optional().nullable(),verification_level:B(),default_message_notifications:B(),explicit_content_filter:B(),roles:J(Uo),emojis:J(qr),features:J(y()),mfa_level:B(),application_id:y().nullable(),system_channel_id:y().nullable(),system_channel_flags:B(),rules_channel_id:y().nullable(),joined_at:y().optional().nullable(),large:F().optional().nullable(),unavailable:F().optional().nullable(),member_count:B().optional().nullable(),voice_states:J(Ui).optional().nullable(),members:J(jr).optional().nullable(),channels:J(Zi).optional().nullable(),presences:J(ko).optional().nullable(),max_presences:B().optional().nullable(),max_members:B().optional().nullable(),vanity_url_code:y().nullable(),description:y().nullable(),banner:y().nullable(),premium_tier:B(),premium_subscription_count:B().optional().nullable(),preferred_locale:y(),public_updates_channel_id:y().nullable(),max_video_channel_users:B().optional().nullable(),approximate_member_count:B().optional().nullable(),approximate_presence_count:B().optional().nullable()});const Bo=D({id:y(),guild_id:y(),type:B(),name:y()}),Go=D({id:y(),filename:y(),size:B(),url:y(),proxy_url:y(),height:B().optional().nullable(),width:B().optional().nullable()}),Zo=D({text:y(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),Br=D({url:y().optional().nullable(),proxy_url:y().optional().nullable(),height:B().optional().nullable(),width:B().optional().nullable()}),Vo=Br.omit({proxy_url:!0}),Ho=D({name:y().optional().nullable(),url:y().optional().nullable()}),jo=D({name:y().optional().nullable(),url:y().optional().nullable(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),qo=D({name:y(),value:y(),inline:F()}),Ko=D({title:y().optional().nullable(),type:y().optional().nullable(),description:y().optional().nullable(),url:y().optional().nullable(),timestamp:y().optional().nullable(),color:B().optional().nullable(),footer:Zo.optional().nullable(),image:Br.optional().nullable(),thumbnail:Br.optional().nullable(),video:Vo.optional().nullable(),provider:Ho.optional().nullable(),author:jo.optional().nullable(),fields:J(qo).optional().nullable()}),Fo=D({count:B(),me:F(),emoji:qr}),Yo=D({type:B(),party_id:y().optional().nullable()}),zo=D({id:y(),cover_image:y().optional().nullable(),description:y(),icon:y().optional().nullable(),name:y()}),$o=D({message_id:y().optional().nullable(),channel_id:y().optional().nullable(),guild_id:y().optional().nullable()}),Xo=D({id:y(),channel_id:y(),guild_id:y().optional().nullable(),author:bt.optional().nullable(),member:jr.optional().nullable(),content:y(),timestamp:y(),edited_timestamp:y().optional().nullable(),tts:F(),mention_everyone:F(),mentions:J(bt),mention_roles:J(y()),mention_channels:J(Bo),attachments:J(Go),embeds:J(Ko),reactions:J(Fo).optional().nullable(),nonce:Vr([y(),B()]).optional().nullable(),pinned:F(),webhook_id:y().optional().nullable(),type:B(),activity:Yo.optional().nullable(),application:zo.optional().nullable(),message_reference:$o.optional().nullable(),flags:B().optional().nullable(),stickers:J(mn()).optional().nullable(),referenced_message:mn().optional().nullable()}),Wo=D({id:y(),name:y()}),Co={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},Vi=D({type:Se(Co),code:B(),name:y()}),Jo={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Qo=D({type:Se(Jo),auto_threshold:F(),threshold:B(),shortcut:J(Vi),delay:B()}),hi=D({device_id:y(),volume:B(),available_devices:J(Wo)}),el={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};D({type:Se(el),id:y(),vendor:D({name:y(),url:y()}),model:D({name:y(),url:y()}),related:J(y()),echo_cancellation:F().optional().nullable(),noise_suppression:F().optional().nullable(),automatic_gain_control:F().optional().nullable(),hardware_mute:F().optional().nullable()});const tl={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},nl=D({id:y(),name:y(),type:Se(tl),price:D({amount:B(),currency:y()}),application_id:y(),flags:B(),release_date:y().nullable()}),rl={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},Kr=D({id:y(),sku_id:y(),application_id:y(),user_id:y(),gift_code_flags:B(),type:Se(rl),gifter_user_id:y().optional().nullable(),branches:J(y()).optional().nullable(),starts_at:y().optional().nullable(),ends_at:y().optional().nullable(),parent_id:y().optional().nullable(),consumed:F().optional().nullable(),deleted:F().optional().nullable(),gift_code_batch_id:y().optional().nullable()}),il={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};Se(il);const al={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},sl=Se(al),Hi={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};Se(Hi);const ji={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};Se(ji);const Fr="ERROR";var ae;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ae||(ae={}));const Ze=Yt.extend({evt:Ft(ae),nonce:y().nullable(),cmd:ve(Ro),data:D({}).passthrough()}),qi=Yt.extend({evt:ve(Fr),data:D({code:B(),message:y().optional()}).passthrough(),cmd:Ft(G),nonce:y().nullable()}),ol=Ze.extend({evt:y()}),ll=Vr([Ze,ol,qi]);function ul(t){const e=t.evt;if(!(e in ae))throw new Error(`Unrecognized event type ${t.evt}`);return cl[e].payload.parse(t)}const cl={[ae.READY]:{payload:Ze.extend({evt:ve(ae.READY),data:D({v:B(),config:D({cdn_host:y().optional(),api_endpoint:y(),environment:y()}),user:D({id:y(),username:y(),discriminator:y(),avatar:y().optional()}).optional()})})},[ae.VOICE_STATE_UPDATE]:{payload:Ze.extend({evt:ve(ae.VOICE_STATE_UPDATE),data:Bi}),subscribeArgs:D({channel_id:y()})},[ae.SPEAKING_START]:{payload:Ze.extend({evt:ve(ae.SPEAKING_START),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.SPEAKING_STOP]:{payload:Ze.extend({evt:ve(ae.SPEAKING_STOP),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Ze.extend({evt:ve(ae.ACTIVITY_LAYOUT_MODE_UPDATE),data:D({layout_mode:Se(ji)})})},[ae.ORIENTATION_UPDATE]:{payload:Ze.extend({evt:ve(ae.ORIENTATION_UPDATE),data:D({screen_orientation:Se(Hi),orientation:Ft(Ur)})})},[ae.CURRENT_USER_UPDATE]:{payload:Ze.extend({evt:ve(ae.CURRENT_USER_UPDATE),data:bt})},[ae.ENTITLEMENT_CREATE]:{payload:Ze.extend({evt:ve(ae.ENTITLEMENT_CREATE),data:D({entitlement:Kr})})},[ae.THERMAL_STATE_UPDATE]:{payload:Ze.extend({evt:ve(ae.THERMAL_STATE_UPDATE),data:D({thermal_state:sl})})},[ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Ze.extend({evt:ve(ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:D({participants:Mi.shape.participants})})}};function fl(t,e){throw e}const yn=D({}).nullable(),Ki=D({code:y()}),dl=D({guilds:J(D({id:y(),name:y()}))}),pl=D({id:y(),name:y(),icon_url:y().optional(),members:J(jr)}),Kt=D({id:y(),type:Se(Gi),guild_id:y().optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),bitrate:B().optional().nullable(),user_limit:B().optional().nullable(),position:B().optional().nullable(),voice_states:J(Bi),messages:J(Xo)}),hl=D({channels:J(Zi)});Kt.nullable();const gl=Kt.nullable(),ml=Kt.nullable();D({input:hi,output:hi,mode:Qo,automatic_gain_control:F(),echo_cancellation:F(),noise_suppression:F(),qos:F(),silence_warning:F(),deaf:F(),mute:F()});const _l=D({evt:y()}),vl=D({shortcut:Vi}),Fi=nn,Yi=D({skus:J(nl)}),zi=D({entitlements:J(Kr)}),$i=J(Kr).nullable(),Xi=D({use_interactive_pip:F()}),Wi=D({locale:y()}),Ci=D({enabled:F()}),Ji=D({permissions:Si().or(y())}),Qi=D({iosKeyboardResizesView:Ii(F())}),yl=Yt.extend({cmd:Ft(G),evt:Zr()});function El({cmd:t,data:e}){switch(t){case G.AUTHORIZE:return Ki.parse(e);case G.CAPTURE_SHORTCUT:return vl.parse(e);case G.ENCOURAGE_HW_ACCELERATION:return Ci.parse(e);case G.GET_CHANNEL:return Kt.parse(e);case G.GET_CHANNELS:return hl.parse(e);case G.GET_CHANNEL_PERMISSIONS:return Ji.parse(e);case G.GET_GUILD:return pl.parse(e);case G.GET_GUILDS:return dl.parse(e);case G.GET_PLATFORM_BEHAVIORS:return Qi.parse(e);case G.GET_CHANNEL:return Kt.parse(e);case G.SELECT_TEXT_CHANNEL:return ml.parse(e);case G.SELECT_VOICE_CHANNEL:return gl.parse(e);case G.SET_ACTIVITY:return Fi.parse(e);case G.GET_SKUS_EMBEDDED:return Yi.parse(e);case G.GET_ENTITLEMENTS_EMBEDDED:return zi.parse(e);case G.SET_CONFIG:return Xi.parse(e);case G.START_PURCHASE:return $i.parse(e);case G.SUBSCRIBE:case G.UNSUBSCRIBE:return _l.parse(e);case G.USER_SETTINGS_GET_LOCALE:return Wi.parse(e);case G.OPEN_EXTERNAL_LINK:case G.SET_ORIENTATION_LOCK_STATE:case G.SET_CERTIFIED_DEVICES:case G.SEND_ANALYTICS_EVENT:case G.OPEN_INVITE_DIALOG:case G.CAPTURE_LOG:case G.GET_SKUS:case G.GET_ENTITLEMENTS:return yn.parse(e);case G.AUTHENTICATE:case G.INITIATE_IMAGE_UPLOAD:case G.OPEN_SHARE_MOMENT_DIALOG:case G.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=ki[t];return n.parse(e);default:fl(t,new Error(`Unrecognized command ${t}`))}}function Tl(t){return Object.assign(Object.assign({},t),{data:El(t)})}D({frame_id:y(),platform:Ft(vt).optional().nullable()});D({v:ve(1),encoding:ve("json").optional(),client_id:y(),frame_id:y()});const bl=D({code:B(),message:y().optional()}),Al=D({evt:y().nullable(),nonce:y().nullable(),data:mn().nullable(),cmd:y()}).passthrough();function wl(t){const e=Al.parse(t);return e.evt!=null?e.evt===Fr?qi.parse(e):ul(ll.parse(e)):Tl(yl.passthrough().parse(e))}function Le(t,e,n,r=()=>{}){const i=Yt.extend({cmd:ve(e),data:n});return async a=>{const u=await t({cmd:e,args:a,transfer:r(a)});return i.parse(u).data}}function ur(t,e=()=>{}){const n=ki[t].response,r=Yt.extend({cmd:ve(t),data:n});return i=>async a=>{const u=await i({cmd:t,args:a,transfer:e(a)});return r.parse(u).data}}const Sl=ur(Xe.AUTHENTICATE),Il=t=>Le(t,G.AUTHORIZE,Ki),Nl=t=>Le(t,G.CAPTURE_LOG,yn),Ol=t=>Le(t,G.ENCOURAGE_HW_ACCELERATION,Ci),Dl=t=>Le(t,G.GET_ENTITLEMENTS_EMBEDDED,zi),Rl=t=>Le(t,G.GET_SKUS_EMBEDDED,Yi),xl=t=>Le(t,G.GET_CHANNEL_PERMISSIONS,Ji),Ll=t=>Le(t,G.GET_PLATFORM_BEHAVIORS,Qi),Pl=t=>Le(t,G.OPEN_EXTERNAL_LINK,yn),Ml=t=>Le(t,G.OPEN_INVITE_DIALOG,yn),kl=ur(Xe.OPEN_SHARE_MOMENT_DIALOG);nn.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:nn.shape.type.optional(),instance:nn.shape.instance.optional()}).nullable();const Ul=t=>Le(t,G.SET_ACTIVITY,Fi),Bl=t=>Le(t,G.SET_CONFIG,Xi);function Gl({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const a=Yt.extend({cmd:ve(e),data:n});return async u=>{try{const c=await t({cmd:e,args:u,transfer:i(u)});return a.parse(c).data}catch(c){if(c.code===kr.INVALID_PAYLOAD){const m=r(u),p=await t({cmd:e,args:m,transfer:i(m)});return a.parse(p).data}else throw c}}}const Zl=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),Vl=t=>Gl({sendCommand:t,cmd:G.SET_ORIENTATION_LOCK_STATE,response:yn,fallbackTransform:Zl}),Hl=t=>Le(t,G.START_PURCHASE,$i),jl=t=>Le(t,G.USER_SETTINGS_GET_LOCALE,Wi),ql=ur(Xe.INITIATE_IMAGE_UPLOAD),Kl=t=>Le(t,G.GET_CHANNEL,Kt),Fl=ur(Xe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function Yl(t){return{authenticate:Sl(t),authorize:Il(t),captureLog:Nl(t),encourageHardwareAcceleration:Ol(t),getChannel:Kl(t),getChannelPermissions:xl(t),getEntitlements:Dl(t),getPlatformBehaviors:Ll(t),getSkus:Rl(t),openExternalLink:Pl(t),openInviteDialog:Ml(t),openShareMomentDialog:kl(t),setActivity:Ul(t),setConfig:Bl(t),setOrientationLockState:Vl(t),startPurchase:Hl(t),userSettingsGetLocale:jl(t),initiateImageUpload:ql(t),getInstanceConnectedParticipants:Fl(t)}}class zl extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function $l(){return{disableConsoleLogOverride:!1}}const Xl=["log","warn","debug","info","error"];function Wl(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const a=[].slice.call(arguments),u=""+a.join(" ");n(e,u),r.apply(i,a)})}const Cl=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var gi={randomUUID:Cl};let zn;const Jl=new Uint8Array(16);function Ql(){if(!zn&&(zn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!zn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return zn(Jl)}const Ee=[];for(let t=0;t<256;++t)Ee.push((t+256).toString(16).slice(1));function eu(t,e=0){return Ee[t[e+0]]+Ee[t[e+1]]+Ee[t[e+2]]+Ee[t[e+3]]+"-"+Ee[t[e+4]]+Ee[t[e+5]]+"-"+Ee[t[e+6]]+Ee[t[e+7]]+"-"+Ee[t[e+8]]+Ee[t[e+9]]+"-"+Ee[t[e+10]]+Ee[t[e+11]]+Ee[t[e+12]]+Ee[t[e+13]]+Ee[t[e+14]]+Ee[t[e+15]]}function mi(t,e,n){if(gi.randomUUID&&!e&&!t)return gi.randomUUID();t=t||{};const r=t.random||(t.rng||Ql)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return eu(r)}var ut;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(ut||(ut={}));const tu=new Set(nu());function nu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function ru(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class iu{getTransfer(e){var n;switch(e.cmd){case G.SUBSCRIBE:case G.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.source=null,this.sourceOrigin="",this.eventBus=new bs,this.pendingCommands=new Map,this.sendCommand=c=>{var m;if(this.source==null)throw new Error("Attempting to send message before initialization");const p=mi();return(m=this.source)===null||m===void 0||m.postMessage([ut.FRAME,Object.assign(Object.assign({},c),{nonce:p})],this.sourceOrigin,this.getTransfer(c)),new Promise((g,A)=>{this.pendingCommands.set(p,{resolve:g,reject:A})})},this.commands=Yl(this.sendCommand),this.handleMessage=c=>{if(!tu.has(c.origin))return;const m=c.data;if(!Array.isArray(m))return;const[p,f]=m;switch(p){case ut.HELLO:return;case ut.CLOSE:return this.handleClose(f);case ut.HANDSHAKE:return this.handleHandshake();case ut.FRAME:return this.handleFrame(f);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??$l(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=vt.DESKTOP,this.guildId=null,this.channelId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const u=r.get("platform");if(u){if(u!==vt.DESKTOP&&u!==vt.MOBILE)throw new Error(`Invalid query param "platform" of "${u}". Valid values are "${vt.DESKTOP}" or "${vt.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=u,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),[this.source,this.sourceOrigin]=ru(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=mi();(r=this.source)===null||r===void 0||r.postMessage([ut.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,a=this.eventBus.listenerCount(e),u=this.eventBus.on(e,n);return Object.values(ae).includes(e)&&e!==ae.READY&&a===0&&await this.sendCommand({cmd:G.SUBSCRIBE,args:i,evt:e}),u}async unsubscribe(e,n,...r){const[i]=r;return e!==ae.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:G.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(ae.READY,e)})}handshake(){var e;(e=this.source)===null||e===void 0||e.postMessage([ut.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ae.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Xl.forEach(n=>{Wl(console,n,e)})}handleClose(e){bl.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=wl(e)}catch(a){console.error("Failed to parse",e),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===Fr){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new zl(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var zt=1e9,au={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},aa,ce=!0,Ve="[DecimalError] ",xt=Ve+"Invalid argument: ",Yr=Ve+"Exponent out of range: ",$t=Math.floor,Dt=Math.pow,su=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Me,ye=1e7,ue=7,ea=9007199254740991,ir=$t(ea/ue),M={};M.absoluteValue=M.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};M.comparedTo=M.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};M.decimalPlaces=M.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ue;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};M.dividedBy=M.div=function(t){return ft(this,new this.constructor(t))};M.dividedToIntegerBy=M.idiv=function(t){var e=this,n=e.constructor;return le(ft(e,new n(t),0,1),n.precision)};M.equals=M.eq=function(t){return!this.cmp(t)};M.exponent=function(){return ge(this)};M.greaterThan=M.gt=function(t){return this.cmp(t)>0};M.greaterThanOrEqualTo=M.gte=function(t){return this.cmp(t)>=0};M.isInteger=M.isint=function(){return this.e>this.d.length-2};M.isNegative=M.isneg=function(){return this.s<0};M.isPositive=M.ispos=function(){return this.s>0};M.isZero=function(){return this.s===0};M.lessThan=M.lt=function(t){return this.cmp(t)<0};M.lessThanOrEqualTo=M.lte=function(t){return this.cmp(t)<1};M.logarithm=M.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Me))throw Error(Ve+"NaN");if(n.s<1)throw Error(Ve+(n.s?"NaN":"-Infinity"));return n.eq(Me)?new r(0):(ce=!1,e=ft(_n(n,a),_n(t,a),a),ce=!0,le(e,i))};M.minus=M.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ra(e,t):ta(e,(t.s=-t.s,t))};M.modulo=M.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ve+"NaN");return n.s?(ce=!1,e=ft(n,t,0,1).times(t),ce=!0,n.minus(e)):le(new r(n),i)};M.naturalExponential=M.exp=function(){return na(this)};M.naturalLogarithm=M.ln=function(){return _n(this)};M.negated=M.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};M.plus=M.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ta(e,t):ra(e,(t.s=-t.s,t))};M.precision=M.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(xt+t);if(e=ge(i)+1,r=i.d.length-1,n=r*ue+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};M.squareRoot=M.sqrt=function(){var t,e,n,r,i,a,u,c=this,m=c.constructor;if(c.s<1){if(!c.s)return new m(0);throw Error(Ve+"NaN")}for(t=ge(c),ce=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=We(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=$t((t+1)/2)-(t<0||t%2),i==1/0?e="1e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new m(e)):r=new m(i.toString()),n=m.precision,i=u=n+3;;)if(a=r,r=a.plus(ft(c,a,u+2)).times(.5),We(a.d).slice(0,u)===(e=We(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(le(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;u+=4}return ce=!0,le(r,n)};M.times=M.mul=function(t){var e,n,r,i,a,u,c,m,p,f=this,g=f.constructor,A=f.d,L=(t=new g(t)).d;if(!f.s||!t.s)return new g(0);for(t.s*=f.s,n=f.e+t.e,m=A.length,p=L.length,m<p&&(a=A,A=L,L=a,u=m,m=p,p=u),a=[],u=m+p,r=u;r--;)a.push(0);for(r=p;--r>=0;){for(e=0,i=m+r;i>r;)c=a[i]+L[r]*A[i-r-1]+e,a[i--]=c%ye|0,e=c/ye|0;a[i]=(a[i]+e)%ye|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,ce?le(t,g.precision):t};M.toDecimalPlaces=M.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Qe(t,0,zt),e===void 0?e=r.rounding:Qe(e,0,8),le(n,t+ge(n)+1,e))};M.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=kt(r,!0):(Qe(t,0,zt),e===void 0?e=i.rounding:Qe(e,0,8),r=le(new i(r),t+1,e),n=kt(r,!0,t+1)),n};M.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?kt(i):(Qe(t,0,zt),e===void 0?e=a.rounding:Qe(e,0,8),r=le(new a(i),t+ge(i)+1,e),n=kt(r.abs(),!1,t+ge(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};M.toInteger=M.toint=function(){var t=this,e=t.constructor;return le(new e(t),ge(t)+1,e.rounding)};M.toNumber=function(){return+this};M.toPower=M.pow=function(t){var e,n,r,i,a,u,c=this,m=c.constructor,p=12,f=+(t=new m(t));if(!t.s)return new m(Me);if(c=new m(c),!c.s){if(t.s<1)throw Error(Ve+"Infinity");return c}if(c.eq(Me))return c;if(r=m.precision,t.eq(Me))return le(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=c.s,u){if((n=f<0?-f:f)<=ea){for(i=new m(Me),e=Math.ceil(r/ue+4),ce=!1;n%2&&(i=i.times(c),vi(i.d,e)),n=$t(n/2),n!==0;)c=c.times(c),vi(c.d,e);return ce=!0,t.s<0?new m(Me).div(i):le(i,r)}}else if(a<0)throw Error(Ve+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,ce=!1,i=t.times(_n(c,r+p)),ce=!0,i=na(i),i.s=a,i};M.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ge(i),r=kt(i,n<=a.toExpNeg||n>=a.toExpPos)):(Qe(t,1,zt),e===void 0?e=a.rounding:Qe(e,0,8),i=le(new a(i),t,e),n=ge(i),r=kt(i,t<=n||n<=a.toExpNeg,t)),r};M.toSignificantDigits=M.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Qe(t,1,zt),e===void 0?e=r.rounding:Qe(e,0,8)),le(new r(n),t,e)};M.toString=M.valueOf=M.val=M.toJSON=M[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ge(t),n=t.constructor;return kt(t,e<=n.toExpNeg||e>=n.toExpPos)};function ta(t,e){var n,r,i,a,u,c,m,p,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ce?le(e,g):e;if(m=t.d,p=e.d,u=t.e,i=e.e,m=m.slice(),a=u-i,a){for(a<0?(r=m,a=-a,c=p.length):(r=p,i=u,c=m.length),u=Math.ceil(g/ue),c=u>c?u+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=m.length,a=p.length,c-a<0&&(a=c,r=p,p=m,m=r),n=0;a;)n=(m[--a]=m[a]+p[a]+n)/ye|0,m[a]%=ye;for(n&&(m.unshift(n),++i),c=m.length;m[--c]==0;)m.pop();return e.d=m,e.e=i,ce?le(e,g):e}function Qe(t,e,n){if(t!==~~t||t<e||t>n)throw Error(xt+t)}function We(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=ue-r.length,n&&(a+=gt(n)),a+=r;u=t[e],r=u+"",n=ue-r.length,n&&(a+=gt(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var ft=function(){function t(r,i){var a,u=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+u,r[c]=a%ye|0,u=a/ye|0;return u&&r.unshift(u),r}function e(r,i,a,u){var c,m;if(a!=u)m=a>u?1:-1;else for(c=m=0;c<a;c++)if(r[c]!=i[c]){m=r[c]>i[c]?1:-1;break}return m}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*ye+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var c,m,p,f,g,A,L,X,V,R,pe,ee,re,Ie,he,ke,be,Pe,He=r.constructor,Ue=r.s==i.s?1:-1,Ne=r.d,oe=i.d;if(!r.s)return new He(r);if(!i.s)throw Error(Ve+"Division by zero");for(m=r.e-i.e,be=oe.length,he=Ne.length,L=new He(Ue),X=L.d=[],p=0;oe[p]==(Ne[p]||0);)++p;if(oe[p]>(Ne[p]||0)&&--m,a==null?ee=a=He.precision:u?ee=a+(ge(r)-ge(i))+1:ee=a,ee<0)return new He(0);if(ee=ee/ue+2|0,p=0,be==1)for(f=0,oe=oe[0],ee++;(p<he||f)&&ee--;p++)re=f*ye+(Ne[p]||0),X[p]=re/oe|0,f=re%oe|0;else{for(f=ye/(oe[0]+1)|0,f>1&&(oe=t(oe,f),Ne=t(Ne,f),be=oe.length,he=Ne.length),Ie=be,V=Ne.slice(0,be),R=V.length;R<be;)V[R++]=0;Pe=oe.slice(),Pe.unshift(0),ke=oe[0],oe[1]>=ye/2&&++ke;do f=0,c=e(oe,V,be,R),c<0?(pe=V[0],be!=R&&(pe=pe*ye+(V[1]||0)),f=pe/ke|0,f>1?(f>=ye&&(f=ye-1),g=t(oe,f),A=g.length,R=V.length,c=e(g,V,A,R),c==1&&(f--,n(g,be<A?Pe:oe,A))):(f==0&&(c=f=1),g=oe.slice()),A=g.length,A<R&&g.unshift(0),n(V,g,R),c==-1&&(R=V.length,c=e(oe,V,be,R),c<1&&(f++,n(V,be<R?Pe:oe,R))),R=V.length):c===0&&(f++,V=[0]),X[p++]=f,c&&V[0]?V[R++]=Ne[Ie]||0:(V=[Ne[Ie]],R=1);while((Ie++<he||V[0]!==void 0)&&ee--)}return X[0]||X.shift(),L.e=m,le(L,u?a+ge(L)+1:a)}}();function na(t,e){var n,r,i,a,u,c,m=0,p=0,f=t.constructor,g=f.precision;if(ge(t)>16)throw Error(Yr+ge(t));if(!t.s)return new f(Me);for(e==null?(ce=!1,c=g):c=e,u=new f(.03125);t.abs().gte(.1);)t=t.times(u),p+=5;for(r=Math.log(Dt(2,p))/Math.LN10*2+5|0,c+=r,n=i=a=new f(Me),f.precision=c;;){if(i=le(i.times(t),c),n=n.times(++m),u=a.plus(ft(i,n,c)),We(u.d).slice(0,c)===We(a.d).slice(0,c)){for(;p--;)a=le(a.times(a),c);return f.precision=g,e==null?(ce=!0,le(a,g)):a}a=u}}function ge(t){for(var e=t.e*ue,n=t.d[0];n>=10;n/=10)e++;return e}function Dr(t,e,n){if(e>t.LN10.sd())throw ce=!0,n&&(t.precision=n),Error(Ve+"LN10 precision limit exceeded");return le(new t(t.LN10),e)}function gt(t){for(var e="";t--;)e+="0";return e}function _n(t,e){var n,r,i,a,u,c,m,p,f,g=1,A=10,L=t,X=L.d,V=L.constructor,R=V.precision;if(L.s<1)throw Error(Ve+(L.s?"NaN":"-Infinity"));if(L.eq(Me))return new V(0);if(e==null?(ce=!1,p=R):p=e,L.eq(10))return e==null&&(ce=!0),Dr(V,p);if(p+=A,V.precision=p,n=We(X),r=n.charAt(0),a=ge(L),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)L=L.times(t),n=We(L.d),r=n.charAt(0),g++;a=ge(L),r>1?(L=new V("0."+n),a++):L=new V(r+"."+n.slice(1))}else return m=Dr(V,p+2,R).times(a+""),L=_n(new V(r+"."+n.slice(1)),p-A).plus(m),V.precision=R,e==null?(ce=!0,le(L,R)):L;for(c=u=L=ft(L.minus(Me),L.plus(Me),p),f=le(L.times(L),p),i=3;;){if(u=le(u.times(f),p),m=c.plus(ft(u,new V(i),p)),We(m.d).slice(0,p)===We(c.d).slice(0,p))return c=c.times(2),a!==0&&(c=c.plus(Dr(V,p+2,R).times(a+""))),c=ft(c,new V(g),p),V.precision=R,e==null?(ce=!0,le(c,R)):c;c=m,i+=2}}function _i(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=$t(n/ue),t.d=[],r=(n+1)%ue,n<0&&(r+=ue),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ue;r<i;)t.d.push(+e.slice(r,r+=ue));e=e.slice(r),r=ue-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ce&&(t.e>ir||t.e<-ir))throw Error(Yr+n)}else t.s=0,t.e=0,t.d=[0];return t}function le(t,e,n){var r,i,a,u,c,m,p,f,g=t.d;for(u=1,a=g[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=ue,i=e,p=g[f=0];else{if(f=Math.ceil((r+1)/ue),a=g.length,f>=a)return t;for(p=a=g[f],u=1;a>=10;a/=10)u++;r%=ue,i=r-ue+u}if(n!==void 0&&(a=Dt(10,u-i-1),c=p/a%10|0,m=e<0||g[f+1]!==void 0||p%a,m=n<4?(c||m)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||m||n==6&&(r>0?i>0?p/Dt(10,u-i):0:g[f-1])%10&1||n==(t.s<0?8:7))),e<1||!g[0])return m?(a=ge(t),g.length=1,e=e-a-1,g[0]=Dt(10,(ue-e%ue)%ue),t.e=$t(-e/ue)||0):(g.length=1,g[0]=t.e=t.s=0),t;if(r==0?(g.length=f,a=1,f--):(g.length=f+1,a=Dt(10,ue-r),g[f]=i>0?(p/Dt(10,u-i)%Dt(10,i)|0)*a:0),m)for(;;)if(f==0){(g[0]+=a)==ye&&(g[0]=1,++t.e);break}else{if(g[f]+=a,g[f]!=ye)break;g[f--]=0,a=1}for(r=g.length;g[--r]===0;)g.pop();if(ce&&(t.e>ir||t.e<-ir))throw Error(Yr+ge(t));return t}function ra(t,e){var n,r,i,a,u,c,m,p,f,g,A=t.constructor,L=A.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new A(t),ce?le(e,L):e;if(m=t.d,g=e.d,r=e.e,p=t.e,m=m.slice(),u=p-r,u){for(f=u<0,f?(n=m,u=-u,c=g.length):(n=g,r=p,c=m.length),i=Math.max(Math.ceil(L/ue),c)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=m.length,c=g.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(m[i]!=g[i]){f=m[i]<g[i];break}u=0}for(f&&(n=m,m=g,g=n,e.s=-e.s),c=m.length,i=g.length-c;i>0;--i)m[c++]=0;for(i=g.length;i>u;){if(m[--i]<g[i]){for(a=i;a&&m[--a]===0;)m[a]=ye-1;--m[a],m[i]+=ye}m[i]-=g[i]}for(;m[--c]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(e.d=m,e.e=r,ce?le(e,L):e):new A(0)}function kt(t,e,n){var r,i=ge(t),a=We(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+gt(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+gt(-i-1)+a,n&&(r=n-u)>0&&(a+=gt(r))):i>=u?(a+=gt(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+gt(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=gt(r))),t.s<0?"-"+a:a}function vi(t,e){if(t.length>e)return t.length=e,!0}function ia(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(xt+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return _i(u,a.toString())}else if(typeof a!="string")throw Error(xt+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,su.test(a))_i(u,a);else throw Error(xt+a)}if(i.prototype=M,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ia,i.config=i.set=ou,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function ou(t){if(!t||typeof t!="object")throw Error(Ve+"Object expected");var e,n,r,i=["precision",1,zt,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if($t(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(xt+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(xt+n+": "+r);return this}var aa=ia(au);Me=new aa(1);var _;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(_||(_={}));_.AED+"",_.AFN+"",_.ALL+"",_.AMD+"",_.ANG+"",_.AOA+"",_.ARS+"",_.AUD+"",_.AWG+"",_.AZN+"",_.BAM+"",_.BBD+"",_.BDT+"",_.BGN+"",_.BHD+"",_.BIF+"",_.BMD+"",_.BND+"",_.BOB+"",_.BOV+"",_.BRL+"",_.BSD+"",_.BTN+"",_.BWP+"",_.BYR+"",_.BYN+"",_.BZD+"",_.CAD+"",_.CDF+"",_.CHE+"",_.CHF+"",_.CHW+"",_.CLF+"",_.CLP+"",_.CNY+"",_.COP+"",_.COU+"",_.CRC+"",_.CUC+"",_.CUP+"",_.CVE+"",_.CZK+"",_.DJF+"",_.DKK+"",_.DOP+"",_.DZD+"",_.EGP+"",_.ERN+"",_.ETB+"",_.EUR+"",_.FJD+"",_.FKP+"",_.GBP+"",_.GEL+"",_.GHS+"",_.GIP+"",_.GMD+"",_.GNF+"",_.GTQ+"",_.GYD+"",_.HKD+"",_.HNL+"",_.HRK+"",_.HTG+"",_.HUF+"",_.IDR+"",_.ILS+"",_.INR+"",_.IQD+"",_.IRR+"",_.ISK+"",_.JMD+"",_.JOD+"",_.JPY+"",_.KES+"",_.KGS+"",_.KHR+"",_.KMF+"",_.KPW+"",_.KRW+"",_.KWD+"",_.KYD+"",_.KZT+"",_.LAK+"",_.LBP+"",_.LKR+"",_.LRD+"",_.LSL+"",_.LTL+"",_.LVL+"",_.LYD+"",_.MAD+"",_.MDL+"",_.MGA+"",_.MKD+"",_.MMK+"",_.MNT+"",_.MOP+"",_.MRO+"",_.MUR+"",_.MVR+"",_.MWK+"",_.MXN+"",_.MXV+"",_.MYR+"",_.MZN+"",_.NAD+"",_.NGN+"",_.NIO+"",_.NOK+"",_.NPR+"",_.NZD+"",_.OMR+"",_.PAB+"",_.PEN+"",_.PGK+"",_.PHP+"",_.PKR+"",_.PLN+"",_.PYG+"",_.QAR+"",_.RON+"",_.RSD+"",_.RUB+"",_.RWF+"",_.SAR+"",_.SBD+"",_.SCR+"",_.SDG+"",_.SEK+"",_.SGD+"",_.SHP+"",_.SLL+"",_.SOS+"",_.SRD+"",_.SSP+"",_.STD+"",_.SVC+"",_.SYP+"",_.SZL+"",_.THB+"",_.TJS+"",_.TMT+"",_.TND+"",_.TOP+"",_.TRY+"",_.TTD+"",_.TWD+"",_.TZS+"",_.UAH+"",_.UGX+"",_.USD+"",_.USN+"",_.USS+"",_.UYI+"",_.UYU+"",_.UZS+"",_.VEF+"",_.VND+"",_.VUV+"",_.WST+"",_.XAF+"",_.XAG+"",_.XAU+"",_.XBA+"",_.XBB+"",_.XBC+"",_.XBD+"",_.XCD+"",_.XDR+"",_.XFU+"",_.XOF+"",_.XPD+"",_.XPF+"",_.XPT+"",_.XSU+"",_.XTS+"",_.XUA+"",_.YER+"",_.ZAR+"",_.ZMW+"",_.ZWL+"";var ar={exports:{}};ar.exports;(function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,u=2,c=1/0,m=9007199254740991,p="[object Arguments]",f="[object Array]",g="[object Boolean]",A="[object Date]",L="[object Error]",X="[object Function]",V="[object GeneratorFunction]",R="[object Map]",pe="[object Number]",ee="[object Object]",re="[object Promise]",Ie="[object RegExp]",he="[object Set]",ke="[object String]",be="[object Symbol]",Pe="[object WeakMap]",He="[object ArrayBuffer]",Ue="[object DataView]",Ne="[object Float32Array]",oe="[object Float64Array]",cr="[object Int8Array]",En="[object Int16Array]",Tn="[object Int32Array]",fr="[object Uint8Array]",dr="[object Uint8ClampedArray]",bn="[object Uint16Array]",et="[object Uint32Array]",tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,An=/^\w*$/,Xt=/^\./,je=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,wt=/[\\^$.*+?()[\]{}|]/g,nt=/\\(\\)?/g,wn=/^\[object .+?Constructor\]$/,Wt=/^(?:0|[1-9]\d*)$/,ie={};ie[Ne]=ie[oe]=ie[cr]=ie[En]=ie[Tn]=ie[fr]=ie[dr]=ie[bn]=ie[et]=!0,ie[p]=ie[f]=ie[He]=ie[g]=ie[Ue]=ie[A]=ie[L]=ie[X]=ie[R]=ie[pe]=ie[ee]=ie[Ie]=ie[he]=ie[ke]=ie[Pe]=!1;var Sn=typeof Kn=="object"&&Kn&&Kn.Object===Object&&Kn,Ut=typeof self=="object"&&self&&self.Object===Object&&self,qe=Sn||Ut||Function("return this")(),Ct=e&&!e.nodeType&&e,Bt=Ct&&!0&&t&&!t.nodeType&&t,In=Bt&&Bt.exports===Ct,Nn=In&&Sn.process,On=function(){try{return Nn&&Nn.binding("util")}catch{}}(),Dn=On&&On.isTypedArray;function Rn(o,d){for(var b=-1,N=o?o.length:0;++b<N&&d(o[b],b,o)!==!1;);return o}function pr(o,d){for(var b=-1,N=o?o.length:0;++b<N;)if(d(o[b],b,o))return!0;return!1}function St(o){return function(d){return d==null?void 0:d[o]}}function xn(o,d){for(var b=-1,N=Array(o);++b<o;)N[b]=d(b);return N}function Ln(o){return function(d){return o(d)}}function hr(o,d){return o==null?void 0:o[d]}function j(o){var d=!1;if(o!=null&&typeof o.toString!="function")try{d=!!(o+"")}catch{}return d}function rt(o){var d=-1,b=Array(o.size);return o.forEach(function(N,Y){b[++d]=[Y,N]}),b}function s(o,d){return function(b){return o(d(b))}}function l(o){var d=-1,b=Array(o.size);return o.forEach(function(N){b[++d]=N}),b}var h=Array.prototype,v=Function.prototype,T=Object.prototype,E=qe["__core-js_shared__"],w=function(){var o=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),S=v.toString,I=T.hasOwnProperty,H=T.toString,C=RegExp("^"+S.call(I).replace(wt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),K=qe.Symbol,Q=qe.Uint8Array,Oe=s(Object.getPrototypeOf,Object),Ae=Object.create,Jt=T.propertyIsEnumerable,Qt=h.splice,sa=s(Object.keys,Object),gr=Gt(qe,"DataView"),en=Gt(qe,"Map"),mr=Gt(qe,"Promise"),_r=Gt(qe,"Set"),vr=Gt(qe,"WeakMap"),tn=Gt(Object,"create"),oa=Nt(gr),la=Nt(en),ua=Nt(mr),ca=Nt(_r),fa=Nt(vr),Pn=K?K.prototype:void 0,yr=Pn?Pn.valueOf:void 0,zr=Pn?Pn.toString:void 0;function It(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var N=o[d];this.set(N[0],N[1])}}function da(){this.__data__=tn?tn(null):{}}function pa(o){return this.has(o)&&delete this.__data__[o]}function ha(o){var d=this.__data__;if(tn){var b=d[o];return b===i?void 0:b}return I.call(d,o)?d[o]:void 0}function ga(o){var d=this.__data__;return tn?d[o]!==void 0:I.call(d,o)}function ma(o,d){var b=this.__data__;return b[o]=tn&&d===void 0?i:d,this}It.prototype.clear=da,It.prototype.delete=pa,It.prototype.get=ha,It.prototype.has=ga,It.prototype.set=ma;function it(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var N=o[d];this.set(N[0],N[1])}}function _a(){this.__data__=[]}function va(o){var d=this.__data__,b=kn(d,o);if(b<0)return!1;var N=d.length-1;return b==N?d.pop():Qt.call(d,b,1),!0}function ya(o){var d=this.__data__,b=kn(d,o);return b<0?void 0:d[b][1]}function Ea(o){return kn(this.__data__,o)>-1}function Ta(o,d){var b=this.__data__,N=kn(b,o);return N<0?b.push([o,d]):b[N][1]=d,this}it.prototype.clear=_a,it.prototype.delete=va,it.prototype.get=ya,it.prototype.has=Ea,it.prototype.set=Ta;function at(o){var d=-1,b=o?o.length:0;for(this.clear();++d<b;){var N=o[d];this.set(N[0],N[1])}}function ba(){this.__data__={hash:new It,map:new(en||it),string:new It}}function Aa(o){return Un(this,o).delete(o)}function wa(o){return Un(this,o).get(o)}function Sa(o){return Un(this,o).has(o)}function Ia(o,d){return Un(this,o).set(o,d),this}at.prototype.clear=ba,at.prototype.delete=Aa,at.prototype.get=wa,at.prototype.has=Sa,at.prototype.set=Ia;function Mn(o){var d=-1,b=o?o.length:0;for(this.__data__=new at;++d<b;)this.add(o[d])}function Na(o){return this.__data__.set(o,i),this}function Oa(o){return this.__data__.has(o)}Mn.prototype.add=Mn.prototype.push=Na,Mn.prototype.has=Oa;function st(o){this.__data__=new it(o)}function Da(){this.__data__=new it}function Ra(o){return this.__data__.delete(o)}function xa(o){return this.__data__.get(o)}function La(o){return this.__data__.has(o)}function Pa(o,d){var b=this.__data__;if(b instanceof it){var N=b.__data__;if(!en||N.length<n-1)return N.push([o,d]),this;b=this.__data__=new at(N)}return b.set(o,d),this}st.prototype.clear=Da,st.prototype.delete=Ra,st.prototype.get=xa,st.prototype.has=La,st.prototype.set=Pa;function Ma(o,d){var b=ot(o)||ti(o)?xn(o.length,String):[],N=b.length,Y=!!N;for(var U in o)(d||I.call(o,U))&&!(Y&&(U=="length"||Cr(U,N)))&&b.push(U);return b}function kn(o,d){for(var b=o.length;b--;)if(ei(o[b][0],d))return b;return-1}function ka(o){return Zt(o)?Ae(o):{}}var Ua=Wa();function Ba(o,d){return o&&Ua(o,d,Vn)}function $r(o,d){d=Bn(d,o)?[d]:Xr(d);for(var b=0,N=d.length;o!=null&&b<N;)o=o[Gn(d[b++])];return b&&b==N?o:void 0}function Ga(o){return H.call(o)}function Za(o,d){return o!=null&&d in Object(o)}function Er(o,d,b,N,Y){return o===d?!0:o==null||d==null||!Zt(o)&&!Zn(d)?o!==o&&d!==d:Va(o,d,Er,b,N,Y)}function Va(o,d,b,N,Y,U){var te=ot(o),se=ot(d),fe=f,me=f;te||(fe=pt(o),fe=fe==p?ee:fe),se||(me=pt(d),me=me==p?ee:me);var De=fe==ee&&!j(o),xe=me==ee&&!j(d),_e=fe==me;if(_e&&!De)return U||(U=new st),te||ri(o)?Wr(o,d,b,N,Y,U):Ca(o,d,fe,b,N,Y,U);if(!(Y&u)){var Be=De&&I.call(o,"__wrapped__"),Ge=xe&&I.call(d,"__wrapped__");if(Be||Ge){var ht=Be?o.value():o,lt=Ge?d.value():d;return U||(U=new st),b(ht,lt,N,Y,U)}}return _e?(U||(U=new st),Ja(o,d,b,N,Y,U)):!1}function Ha(o,d,b,N){var Y=b.length,U=Y,te=!N;if(o==null)return!U;for(o=Object(o);Y--;){var se=b[Y];if(te&&se[2]?se[1]!==o[se[0]]:!(se[0]in o))return!1}for(;++Y<U;){se=b[Y];var fe=se[0],me=o[fe],De=se[1];if(te&&se[2]){if(me===void 0&&!(fe in o))return!1}else{var xe=new st;if(N)var _e=N(me,De,fe,o,d,xe);if(!(_e===void 0?Er(De,me,N,a|u,xe):_e))return!1}}return!0}function ja(o){if(!Zt(o)||ns(o))return!1;var d=br(o)||j(o)?C:wn;return d.test(Nt(o))}function qa(o){return Zn(o)&&Ar(o.length)&&!!ie[H.call(o)]}function Ka(o){return typeof o=="function"?o:o==null?cs:typeof o=="object"?ot(o)?za(o[0],o[1]):Ya(o):fs(o)}function Fa(o){if(!rs(o))return sa(o);var d=[];for(var b in Object(o))I.call(o,b)&&b!="constructor"&&d.push(b);return d}function Ya(o){var d=Qa(o);return d.length==1&&d[0][2]?Qr(d[0][0],d[0][1]):function(b){return b===o||Ha(b,o,d)}}function za(o,d){return Bn(o)&&Jr(d)?Qr(Gn(o),d):function(b){var N=os(b,o);return N===void 0&&N===d?ls(b,o):Er(d,N,void 0,a|u)}}function $a(o){return function(d){return $r(d,o)}}function Xa(o){if(typeof o=="string")return o;if(wr(o))return zr?zr.call(o):"";var d=o+"";return d=="0"&&1/o==-c?"-0":d}function Xr(o){return ot(o)?o:is(o)}function Wa(o){return function(d,b,N){for(var Y=-1,U=Object(d),te=N(d),se=te.length;se--;){var fe=te[o?se:++Y];if(b(U[fe],fe,U)===!1)break}return d}}function Wr(o,d,b,N,Y,U){var te=Y&u,se=o.length,fe=d.length;if(se!=fe&&!(te&&fe>se))return!1;var me=U.get(o);if(me&&U.get(d))return me==d;var De=-1,xe=!0,_e=Y&a?new Mn:void 0;for(U.set(o,d),U.set(d,o);++De<se;){var Be=o[De],Ge=d[De];if(N)var ht=te?N(Ge,Be,De,d,o,U):N(Be,Ge,De,o,d,U);if(ht!==void 0){if(ht)continue;xe=!1;break}if(_e){if(!pr(d,function(lt,Ot){if(!_e.has(Ot)&&(Be===lt||b(Be,lt,N,Y,U)))return _e.add(Ot)})){xe=!1;break}}else if(!(Be===Ge||b(Be,Ge,N,Y,U))){xe=!1;break}}return U.delete(o),U.delete(d),xe}function Ca(o,d,b,N,Y,U,te){switch(b){case Ue:if(o.byteLength!=d.byteLength||o.byteOffset!=d.byteOffset)return!1;o=o.buffer,d=d.buffer;case He:return!(o.byteLength!=d.byteLength||!N(new Q(o),new Q(d)));case g:case A:case pe:return ei(+o,+d);case L:return o.name==d.name&&o.message==d.message;case Ie:case ke:return o==d+"";case R:var se=rt;case he:var fe=U&u;if(se||(se=l),o.size!=d.size&&!fe)return!1;var me=te.get(o);if(me)return me==d;U|=a,te.set(o,d);var De=Wr(se(o),se(d),N,Y,U,te);return te.delete(o),De;case be:if(yr)return yr.call(o)==yr.call(d)}return!1}function Ja(o,d,b,N,Y,U){var te=Y&u,se=Vn(o),fe=se.length,me=Vn(d),De=me.length;if(fe!=De&&!te)return!1;for(var xe=fe;xe--;){var _e=se[xe];if(!(te?_e in d:I.call(d,_e)))return!1}var Be=U.get(o);if(Be&&U.get(d))return Be==d;var Ge=!0;U.set(o,d),U.set(d,o);for(var ht=te;++xe<fe;){_e=se[xe];var lt=o[_e],Ot=d[_e];if(N)var ii=te?N(Ot,lt,_e,d,o,U):N(lt,Ot,_e,o,d,U);if(!(ii===void 0?lt===Ot||b(lt,Ot,N,Y,U):ii)){Ge=!1;break}ht||(ht=_e=="constructor")}if(Ge&&!ht){var Hn=o.constructor,jn=d.constructor;Hn!=jn&&"constructor"in o&&"constructor"in d&&!(typeof Hn=="function"&&Hn instanceof Hn&&typeof jn=="function"&&jn instanceof jn)&&(Ge=!1)}return U.delete(o),U.delete(d),Ge}function Un(o,d){var b=o.__data__;return ts(d)?b[typeof d=="string"?"string":"hash"]:b.map}function Qa(o){for(var d=Vn(o),b=d.length;b--;){var N=d[b],Y=o[N];d[b]=[N,Y,Jr(Y)]}return d}function Gt(o,d){var b=hr(o,d);return ja(b)?b:void 0}var pt=Ga;(gr&&pt(new gr(new ArrayBuffer(1)))!=Ue||en&&pt(new en)!=R||mr&&pt(mr.resolve())!=re||_r&&pt(new _r)!=he||vr&&pt(new vr)!=Pe)&&(pt=function(o){var d=H.call(o),b=d==ee?o.constructor:void 0,N=b?Nt(b):void 0;if(N)switch(N){case oa:return Ue;case la:return R;case ua:return re;case ca:return he;case fa:return Pe}return d});function es(o,d,b){d=Bn(d,o)?[d]:Xr(d);for(var N,Y=-1,te=d.length;++Y<te;){var U=Gn(d[Y]);if(!(N=o!=null&&b(o,U)))break;o=o[U]}if(N)return N;var te=o?o.length:0;return!!te&&Ar(te)&&Cr(U,te)&&(ot(o)||ti(o))}function Cr(o,d){return d=d??m,!!d&&(typeof o=="number"||Wt.test(o))&&o>-1&&o%1==0&&o<d}function Bn(o,d){if(ot(o))return!1;var b=typeof o;return b=="number"||b=="symbol"||b=="boolean"||o==null||wr(o)?!0:An.test(o)||!tt.test(o)||d!=null&&o in Object(d)}function ts(o){var d=typeof o;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?o!=="__proto__":o===null}function ns(o){return!!w&&w in o}function rs(o){var d=o&&o.constructor,b=typeof d=="function"&&d.prototype||T;return o===b}function Jr(o){return o===o&&!Zt(o)}function Qr(o,d){return function(b){return b==null?!1:b[o]===d&&(d!==void 0||o in Object(b))}}var is=Tr(function(o){o=ss(o);var d=[];return Xt.test(o)&&d.push(""),o.replace(je,function(b,N,Y,U){d.push(Y?U.replace(nt,"$1"):N||b)}),d});function Gn(o){if(typeof o=="string"||wr(o))return o;var d=o+"";return d=="0"&&1/o==-c?"-0":d}function Nt(o){if(o!=null){try{return S.call(o)}catch{}try{return o+""}catch{}}return""}function Tr(o,d){if(typeof o!="function"||d&&typeof d!="function")throw new TypeError(r);var b=function(){var N=arguments,Y=d?d.apply(this,N):N[0],U=b.cache;if(U.has(Y))return U.get(Y);var te=o.apply(this,N);return b.cache=U.set(Y,te),te};return b.cache=new(Tr.Cache||at),b}Tr.Cache=at;function ei(o,d){return o===d||o!==o&&d!==d}function ti(o){return as(o)&&I.call(o,"callee")&&(!Jt.call(o,"callee")||H.call(o)==p)}var ot=Array.isArray;function ni(o){return o!=null&&Ar(o.length)&&!br(o)}function as(o){return Zn(o)&&ni(o)}function br(o){var d=Zt(o)?H.call(o):"";return d==X||d==V}function Ar(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=m}function Zt(o){var d=typeof o;return!!o&&(d=="object"||d=="function")}function Zn(o){return!!o&&typeof o=="object"}function wr(o){return typeof o=="symbol"||Zn(o)&&H.call(o)==be}var ri=Dn?Ln(Dn):qa;function ss(o){return o==null?"":Xa(o)}function os(o,d,b){var N=o==null?void 0:$r(o,d);return N===void 0?b:N}function ls(o,d){return o!=null&&es(o,d,Za)}function Vn(o){return ni(o)?Ma(o):Fa(o)}function us(o,d,b){var N=ot(o)||ri(o);if(d=Ka(d),b==null)if(N||Zt(o)){var Y=o.constructor;N?b=ot(o)?new Y:[]:b=br(Y)?ka(Oe(o)):{}}else b={};return(N?Rn:Ba)(o,function(U,te,se){return d(b,U,te,se)}),b}function cs(o){return o}function fs(o){return Bn(o)?St(Gn(o)):$a(o)}t.exports=us})(ar,ar.exports);ar.exports;const sr={CLIENT_ID:"1240355112090603530",COMPANY_NAME:"StuxieDev",PRODUCT_NAME:"Pong with GDScript",PRODUCT_VERSION:"0.1.0"};async function lu(){const t=new iu(sr.CLIENT_ID);await t.ready();const{code:e}=await t.commands.authorize({client_id:sr.CLIENT_ID,response_type:"code",state:"",prompt:"none",scope:["identify","rpc.activities.write","rpc.voice.read"]}),n=await fetch("/discord/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}),{access_token:r}=await n.json();return await t.commands.authenticate({access_token:r}),t}class uu{constructor(){ai(this,"iframe");this.iframe=document.createElement("iframe"),this.iframe.style.display="block",document.body.appendChild(this.iframe)}async setupParentIframe(){await lu(),this.notifyChildParentIsReady(),window.addEventListener("message",this.handleMessage.bind(this))}async handleMessage({data:e}){if(!this.isValidMessageData(e))return;const{nonce:n,event:r,command:i,data:a,args:u}=e,c=m=>{this.postMessageToChild({event:r,command:"DISPATCH",data:m})};switch(i){case"NOTIFY_CHILD_IFRAME_IS_READY":this.notifyChildParentIsReady();break;case"SUBSCRIBE":this.validateEvent(r),discordSdk.subscribe(r,c,u);break;case"UNSUBSCRIBE":this.validateEvent(r),discordSdk.unsubscribe(r,c);break;case"SET_ACTIVITY":const m=await discordSdk.commands.setActivity(a);this.postMessageToChild({nonce:n,event:r,command:i,data:m});break}}notifyChildParentIsReady(){this.postMessageToChild({event:"READY",command:"DISPATCH"})}postMessageToChild(e){var n;(n=this.iframe.contentWindow)==null||n.postMessage(e,"*")}isValidMessageData(e){return typeof e=="object"&&!Array.isArray(e)&&e!==null}validateEvent(e){if(e==null)throw new Error("Event is undefined")}}function cu(t){let e,n;return{c(){e=si("body"),n=si("canvas"),this.h()},l(r){e=oi(r,"BODY",{class:!0});var i=li(e);n=oi(i,"CANVAS",{id:!0,tabindex:!0,width:!0,style:!0}),li(n).forEach(Ir),i.forEach(Ir),this.h()},h(){qn(n,"id","godot-canvas"),qn(n,"tabindex","-1"),qn(n,"width","960"),Nr(n,"width","100vw"),Nr(n,"height","100vh"),Nr(n,"background","url('godotengine.png') center / cover"),qn(e,"class","svelte-12ax16h")},m(r,i){ys(r,e,i),Es(e,n),t[1](n)},p:Sr,i:Sr,o:Sr,d(r){r&&Ir(e),t[1](null)}}}function fu(t,e,n){let r,i,a;gs(()=>{a=new uu,a.setupParentIframe(),u()});function u(){const m={args:[],canvasResizePolicy:2,executable:sr.PRODUCT_NAME,experimentalVK:!1,focusCanvas:!0,gdextensionLibs:[]},p=document.createElement("script");if(p.src=sr.PRODUCT_NAME+".js",p.async=!0,p.onload=()=>{i=new Engine(m),i.startGame()},document.body.appendChild(p),/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)){var f=document.createElement("meta");f.name="viewport",f.content="width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes",document.getElementsByTagName("head")[0].appendChild(f),n(0,r=document.querySelector("#godot-canvas")),n(0,r.style.width="100%",r),n(0,r.style.height="100%",r),n(0,r.style.position="fixed",r),document.body.style.textAlign="left"}}function c(m){ms[m?"unshift":"push"](()=>{r=m,n(0,r)})}return[r,c]}class gu extends _s{constructor(e){super(),vs(this,e,fu,cu,hs,{})}}export{gu as component};
