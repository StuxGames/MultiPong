{"version":3,"file":"_server.ts-Cl8MxVf1.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/discord/token/_server.ts.js"],"sourcesContent":["import { d as private_env } from \"../../../../chunks/shared-server.js\";\nimport { j as json, e as error } from \"../../../../chunks/index.js\";\nasync function POST({ request }) {\n  try {\n    const { code } = await request.json();\n    const response = await fetch(\"https://discord.com/api/oauth2/token\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\"\n      },\n      body: new URLSearchParams({\n        client_id: private_env.CLIENT_ID,\n        client_secret: private_env.CLIENT_SECRET,\n        grant_type: \"authorization_code\",\n        code\n      })\n    });\n    const { access_token } = await response.json();\n    return json({ access_token });\n  } catch (err) {\n    console.error(err);\n    throw error(500, \"Internal Server Error\");\n  }\n}\nasync function GET() {\n  throw error(405, \"My dude, you can't do that here.\");\n}\nexport {\n  GET,\n  POST\n};\n"],"names":[],"mappings":";;;AAEA,eAAe,IAAI,CAAC,EAAE,OAAO,EAAE,EAAE;AACjC,EAAE,IAAI;AACN,IAAI,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,OAAO,CAAC,IAAI,EAAE,CAAC;AAC1C,IAAI,MAAM,QAAQ,GAAG,MAAM,KAAK,CAAC,sCAAsC,EAAE;AACzE,MAAM,MAAM,EAAE,MAAM;AACpB,MAAM,OAAO,EAAE;AACf,QAAQ,cAAc,EAAE,mCAAmC;AAC3D,OAAO;AACP,MAAM,IAAI,EAAE,IAAI,eAAe,CAAC;AAChC,QAAQ,SAAS,EAAE,WAAW,CAAC,SAAS;AACxC,QAAQ,aAAa,EAAE,WAAW,CAAC,aAAa;AAChD,QAAQ,UAAU,EAAE,oBAAoB;AACxC,QAAQ,IAAI;AACZ,OAAO,CAAC;AACR,KAAK,CAAC,CAAC;AACP,IAAI,MAAM,EAAE,YAAY,EAAE,GAAG,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC;AACnD,IAAI,OAAO,IAAI,CAAC,EAAE,YAAY,EAAE,CAAC,CAAC;AAClC,GAAG,CAAC,OAAO,GAAG,EAAE;AAChB,IAAI,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;AACvB,IAAI,MAAM,KAAK,CAAC,GAAG,EAAE,uBAAuB,CAAC,CAAC;AAC9C,GAAG;AACH,CAAC;AACD,eAAe,GAAG,GAAG;AACrB,EAAE,MAAM,KAAK,CAAC,GAAG,EAAE,kCAAkC,CAAC,CAAC;AACvD;;;;"}